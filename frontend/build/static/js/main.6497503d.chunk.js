(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{132:function(e,t,a){},144:function(e,t){},167:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(109),s=a.n(c),i=(a(132),a(31)),o=a(10),l=a(13),d=a(9),j=a(15),u=a(6),b=a(36),p=a(173),h=a(70),O=Object(h.b)({name:"auth",initialState:{user:null,email:null,token:null,cycle:null,avgLength:null,periodStartDate:null,periodEndDate:null,daysTillPeriod:null,canBleed:!1,isBleeding:!1,daysleft:null,previousPeriod:[{startDate:null,endDate:null,count:null}]},reducers:{setLogin:function(e,t){e.user=t.payload.user,e.email=t.payload.email,e.token=t.payload.token,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.daysTillPeriod=t.payload.cycle,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod},setLogout:function(e){e.user=null,e.token=null,e.cycle=null,e.daysTillPeriod=null,e.periodStartDate=null,e.periodEndDate=null,e.daysTillPeriod=null,e.canBleed=!1,e.isBleeding=!1,e.previousPeriod=null},setPeriod:function(e,t){e.previousPeriod=t.payload.previousPeriod},setCycle:function(e,t){e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength},setNewPeriod:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate},setUserInfo:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod},setCanBleed:function(e,t){e.canBleed=t.payload.canBleed},setIsBleeding:function(e,t){e.isBleeding=t.payload.isBleeding},setDays:function(e,t){e.daysleft=t.payload.daysleft}}}),m=O.actions,x=m.setLogin,f=m.setLogout,v=m.setPeriod,g=m.setCycle,D=m.setNewPeriod,y=m.setUserInfo,w=m.setIsBleeding,N=m.setCanBleed,k=(m.setDays,O.reducer),S=a(12),P=a(2),B=function(){return Object(P.jsx)("div",{className:"loading",children:Object(P.jsx)("div",{className:"spinner"})})},Y=a(76);function E(e){var t=Object(o.n)(),a=Object(S.b)(),r=Object(n.useState)(),c=Object(u.a)(r,2),s=(c[0],c[1]),i=Object(n.useState)(!1),h=Object(u.a)(i,2),O=h[0],m=h[1],f=function(){var e=Object(j.a)(Object(d.a)().mark((function e(n){var r,c,i,o,l,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.email,c=n.username,i=n.password,m(!0),e.prev=4,e.next=7,p.a.post("".concat("https://period-tracker-api.onrender.com","/register"),{email:r,username:c,password:i});case 7:return o=e.sent,e.next=10,o;case 10:if(!e.sent){e.next=19;break}return e.next=14,p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:r,password:i});case 14:return l=e.sent,e.next=17,l;case 17:(j=e.sent)&&(a(x({user:j.data.user.username,email:j.data.user.email,token:j.data.accessToken,cycle:j.data.user.cycle,periodStartDate:j.data.user.periodStartDate,periodEndDate:j.data.user.periodEndDate,previousPeriod:j.data.user.previousPeriod})),t("/AccountSetup"));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0),s(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t){return e.apply(this,arguments)}}();return O?Object(P.jsx)(B,{}):Object(P.jsxs)("section",{className:"login-wrapper",children:[Object(P.jsx)(Y.a,{onClick:e.onShow,className:"exit-button"}),Object(P.jsx)(b.b,{onSubmit:f,validate:function(e){var t={};return e.email||(t.email="Required"),e.username||(t.username="Required"),e.password||(t.password="Required"),e.passwordconfirm?e.password!==e.passwordconfirm&&(t.passwordconfirm="Must match"):t.passwordconfirm="Required",t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(P.jsxs)("form",{onSubmit:t,children:[Object(P.jsx)("h1",{children:"Sign Up"}),Object(P.jsx)(b.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(P.jsxs)("div",{className:"email-input",children:[Object(P.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(P.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Email",Object(P.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(P.jsx)("span",{className:"error",children:a.error})]})}}),Object(P.jsx)(b.a,{name:"username",children:function(e){var t=e.input,a=e.meta;return Object(P.jsxs)("div",{className:"username-input",children:[Object(P.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"text",required:!0})),Object(P.jsx)("label",{htmlFor:"username",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Username",Object(P.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(P.jsx)("span",{className:"error",children:a.error})]})}}),Object(P.jsx)(b.a,{type:"password",name:"password",children:function(e){var t=e.input,a=e.meta;return Object(P.jsxs)("div",{className:"password-input",children:[Object(P.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(P.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Password",Object(P.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(P.jsx)("span",{className:"error",children:a.error})]})}}),Object(P.jsx)(b.a,{type:"password",name:"passwordconfirm",children:function(e){var t=e.input,a=e.meta;return Object(P.jsxs)("div",{className:"password-input",children:[Object(P.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(P.jsx)("label",{htmlFor:"passwordconfirm",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(P.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(P.jsx)("span",{className:"error",children:a.error})]})}}),Object(P.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}})]})}var C=a(26),M=a(16),F=a.n(M);function L(e,t){return A.apply(this,arguments)}function A(){return(A=Object(j.a)(Object(d.a)().mark((function e(t,a){var n,r,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/getuserinfo"),{email:t},{headers:{Authorization:"Bearer ".concat(a)}}),e.next=3,n;case 3:if(!(r=e.sent)){e.next=9;break}return c={periodStartDate:r.data.user.periodStartDate,avgLength:r.data.user.avgLength,cycle:r.data.user.cycle,periodEndDate:r.data.user.periodEndDate,previousPeriod:r.data.user.previousPeriod,canBleed:r.data.user.canBleed,isBleeding:r.data.user.isBleeding},e.abrupt("return",c);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var t=0,a=0,n=null,r=0,c=e.length;return 1!==c&&(e.forEach((function(e){if(t+=F()(e.endDate).diff(e.startDate,"days"),null!=n){var c=F()(n).diff(e.startDate,"month",!0);Math.abs(c)<1.5&&(a+=Math.abs(F()(e.startDate).diff(n,"days")),r+=1)}else n=F()(e.startDate)})),{avgLength:Math.round(t/c),cycle:Math.round(a/r)})}function R(e,t,a,n,r){var c,s,i=null,o=new Date;if(o=F()(o).format(),e&&t)return!1;a.forEach((function(e){(null===i||i<e.startDate)&&(i=e.startDate)}));var l=F()(o).diff(i,"month");if(n&&r)if(l>1){var d=F()(i).add(l,"months");c=F()(d).add(n,"days"),s=F()(d).add(r,"days")}else i=F()(i).format(),c=F()(i).add(n,"days"),s=F()(c).add(r,"days");return{startDate:c,endDate:s}}a(144);var q=a(112),z=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.cycle})),a=Object(S.c)((function(e){return e.avgLength})),n=Object(S.c)((function(e){return e.previousPeriod}));return Object(P.jsxs)("nav",{className:"nav",children:[Object(P.jsx)("div",{className:"logo",children:"placeholder"}),Object(P.jsx)("input",{id:"mobile-nav-toggle",type:"checkbox"}),Object(P.jsx)("label",{className:"mobile-nav-container",htmlFor:"mobile-nav-toggle",children:Object(P.jsx)("div",{className:"mobile-nav",id:"mobile-nav"})}),Object(P.jsxs)("ul",{className:"nav-links",id:"nav-links",children:[Object(P.jsxs)("li",{className:"stats",children:[Object(P.jsx)("h3",{children:"Information at a Glance"}),Object(P.jsxs)("span",{children:["Cycle Lenght: ",t," days"]}),Object(P.jsx)("br",{}),Object(P.jsxs)("span",{children:["Average Length: ",a," days "]}),Object(P.jsx)("br",{}),Object(P.jsxs)("span",{children:["Periods Logged: ",n.length]})]}),Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(i.b,{to:"/home",children:"Home"})}),Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(i.b,{to:"/profile",children:"Profile"})}),Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(i.b,{to:"/periodinfo",children:"Period Info"})}),Object(P.jsx)("li",{className:"logout",children:Object(P.jsx)("button",{onClick:function(){e(f())},children:Object(P.jsx)(q.a,{})})})]})]})},T=a(77),I=function(e,t){return Object(P.jsx)("div",{className:"countdown-wrapper",children:Object(P.jsx)("div",{className:"days-left",children:Object(P.jsxs)("span",{children:[t,"\xa0",e]})})})},H=function(e){var t=F()(e.startDate).format("YYYY-MM-DD"),a=F()(e.endDate).format("YYYY-MM-DD"),n=86400,r=Date.now()/1e3,c=new Date(t).getTime()/1e3,s=new Date(a).getTime()/1e3,i=s-c,o=s-r;return console.log(t,a),Object(P.jsx)("div",{className:"countdown-timer",children:Object(P.jsx)(T.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:[e.color1,e.color2,e.color3],colorsTime:[c,432e3,0],duration:i,initialRemainingTime:o,children:function(e){var t,a=e.elapsedTime,r=e.color;return Object(P.jsx)("span",{style:{color:r},children:I("days",(t=i-a,Math.ceil(t/n)))})}}))})},W=a(113);var U=function(e){var t=Object(n.useState)({startValue:Date.parse(e.startValue),endValue:new Date(e.endValue),rangeDates:[]}),a=Object(u.a)(t,2),r=a[0];return a[1],Object(P.jsx)("div",{className:"horizontal-date-picker",children:Object(P.jsx)(W.Datepicker,{startValue:r.startValue,endValue:r.endValue})})},J=function(){var e=(new Date).getFullYear();return Object(P.jsx)("footer",{children:Object(P.jsxs)("span",{children:["\xa9 ",e," ",Object(P.jsx)("a",{href:"albertfriend.dev",target:"_blank",children:"Albert Friend"})]})})},G=function(e){return Object(P.jsxs)("div",{className:"page-wrapper",children:[Object(P.jsx)(z,{}),Object(P.jsxs)("section",{className:"home content",children:[Object(P.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(P.jsx)(U,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(P.jsxs)("div",{className:"period-countdown",children:[Object(P.jsx)("h2",{children:"Your next period is in"}),Object(P.jsx)(H,{startDate:e.startDate,endDate:e.endDate,color1:"#40bf32",color2:"#e0e20c",color3:"#FA2C00"})]}),Object(P.jsxs)("div",{className:"check-period",children:[Object(P.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(P.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(P.jsx)(J,{})]})},_=function(e){return Object(P.jsxs)("div",{className:"page-wrapper",children:[Object(P.jsx)(z,{}),Object(P.jsxs)("section",{className:"home",children:[Object(P.jsxs)("h1",{className:"welcome-text",children:["Welcome back, ",e.userName]}),Object(P.jsx)(U,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(P.jsxs)("div",{className:"period-countdown",children:[Object(P.jsx)("h2",{children:"Your period should be over in"}),Object(P.jsx)(H,{startDate:e.startDate,endDate:e.endDate,color3:"#40bf32",color2:"#e0e20c",color1:"#FA2C00"})]}),Object(P.jsxs)("div",{className:"check-period",children:[Object(P.jsx)("label",{htmlFor:"check-period",children:"Has your period ended?"}),Object(P.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(P.jsx)(J,{})]})},K=function(e){return Object(P.jsx)("div",{className:"countdown-timer",children:Object(P.jsx)(T.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:"#EAE8FF",children:function(t){var a=t.color;return Object(P.jsx)("span",{style:{color:a},children:(e.message,Object(P.jsx)("div",{className:"countdown-wrapper",children:Object(P.jsx)("div",{className:"days-left",children:Object(P.jsx)("span",{children:e.message})})}))})}}))})},Q=function(e){return Object(P.jsxs)("div",{className:"page-wrapper",children:[Object(P.jsx)(z,{}),Object(P.jsxs)("section",{className:"home content",children:[Object(P.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(P.jsx)(U,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(P.jsxs)("div",{className:"period-countdown",children:[Object(P.jsx)("h2",{children:"Your period might be here"}),Object(P.jsxs)("div",{className:"inner-circle",children:[Object(P.jsx)(K,{startDate:e.startDate,endDate:e.endDate}),Object(P.jsx)("span",{children:"Today"})]})]}),Object(P.jsxs)("div",{className:"check-period",children:[Object(P.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(P.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(P.jsx)(J,{})]})},X=function(e){return Object(P.jsxs)("div",{className:"page-wrapper",children:[Object(P.jsx)(z,{}),Object(P.jsxs)("section",{className:"home content",children:[Object(P.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(P.jsxs)("div",{className:"period-countdown",children:[Object(P.jsx)("h2",{children:"Error"}),Object(P.jsx)(K,{message:e.message})]}),Object(P.jsxs)("div",{className:"check-period",children:[Object(P.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(P.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(P.jsx)(J,{})]})},Z=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.cycle})),a=Object(S.c)((function(e){return e.user})),r=Object(S.c)((function(e){return e.previousPeriod})),c=Object(S.c)((function(e){return e.periodEndDate})),s=Object(S.c)((function(e){return e.periodStartDate})),i=Object(S.c)((function(e){return e.avgLength})),o=Object(S.c)((function(e){return e.token})),l=Object(S.c)((function(e){return e.email})),b=Object(S.c)((function(e){return e.isBleeding})),h=Object(S.c)((function(e){return e.canBleed})),O=Object(n.useState)(!0),m=Object(u.a)(O,2),x=m[0],f=m[1],k=new Date;k=F()(k).format("YYYY-MM-DD");var B=F()(s).subtract(t,"days"),Y=function(){var a=Object(j.a)(Object(d.a)().mark((function a(){var n,j,u,p,h,O,m;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L(l,o);case 2:return n=a.sent,e(y({periodStartDate:n.periodStartDate,periodEndDate:n.periodEndDate,canBleed:n.canBleed,isBleeding:n.isBleeding,previousPeriod:n.previousPeriod})),a.next=6,V(r);case 6:(j=a.sent)&&(u=j.cycle,p=j.avgLength,e(g({cycle:u,avgLength:p}))),(h=R(s,c,r,t,i))&&(O=h.startDate,m=h.endDate,e(D({periodStartDate:O,periodEndDate:m})),E(O,m)),f(!1),(F()(s).format("YYYY-MM-DD")==k||F()(s).format("YYYY-MM-DD")<k&&!b)&&e(N({canBleed:!0}));case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(Object(d.a)().mark((function e(a,n){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.post("".concat("https://period-tracker-api.onrender.com","/user/addperiod"),{email:l,startDate:a,endDate:n,cycle:t,avgLength:i},{headers:{Authorization:"Bearer ".concat(o)}});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t,a){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/updateperiod"),{email:l,periodStartDate:t,periodEndDate:a},{headers:{Authorization:"Bearer ".concat(o)}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n,r,o,l;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F()(s).format("YYYY-MM-DD")==k){t.next=10;break}return a=F()(k).add("days",i).format("YYYY-MM-DD"),n=M(k,a),t.next=5,n;case 5:r=t.sent,e(N({canBleed:r.data.canBleed})),e(w({isBleeding:r.data.isBleeding})),t.next=16;break;case 10:return o=M(s,c),t.next=13,o;case 13:l=t.sent,e(N({canBleed:l.data.canBleed})),e(w({isBleeding:l.data.isBleeding}));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c!=k?(a=F()(k).add("days",i).format("YYYY-MM-DD"),e(v({previousPeriod:[].concat(Object(C.a)(r),[{startDate:s,endDate:a}])})),e(w({isBleeding:!1}))):(e(v({previousPeriod:[].concat(Object(C.a)(r),[{startDate:s,endDate:c}])})),e(w({isBleeding:!1})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){Y()}),[s,c,x]);return function(e,n,r){return e||n||r?n?Object(P.jsx)(Q,{userName:a,onClick:A,endDate:s,startDate:k,startValue:s,endValue:c}):r?Object(P.jsx)(X,{userName:a,onClick:null,message:"More logs are required"}):Object(P.jsx)(_,{userName:a,onClick:q,endDate:c,startDate:s,periodStartDate:s,periodEndDate:c}):Object(P.jsx)(G,{cycle:t,userName:a,endDate:s,startDate:B,onClick:A,periodStartDate:s,periodEndDate:c})}(b,h,x)};var $=function(e){var t=Object(o.n)(),a=Object(S.b)(),r=Object(n.useState)(!1),c=Object(u.a)(r,2),s=c[0],i=c[1],h=Object(n.useState)(),O=Object(u.a)(h,2),m=O[0],f=O[1],v=Object(n.useState)(""),g=Object(u.a)(v,2);function D(){return(D=Object(j.a)(Object(d.a)().mark((function e(n){var r,c,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),r=n.email,c=n.password,e.next=5,p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:r,password:c}).catch((function(e){e.response&&(f(e.response.data.error),console.log(e.response.data.error)),i(!1)}));case 5:return s=e.sent,e.next=8,s;case 8:(o=e.sent)&&(a(x({user:o.data.user.username,email:o.data.user.email,token:o.data.accessToken,cycle:o.data.user.cycle,avgLength:o.data.avgLength,periodStartDate:o.data.user.periodStartDate,periodEndDate:o.data.user.periodEndDate,previousPeriod:o.data.user.previousPeriod,isBleeding:o.data.user.isBleeding,canBleed:o.data.user.canBleed})),t("/home"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g[0],g[1];var y=s?Object(P.jsx)(B,{}):Object(P.jsxs)("section",{className:"login-wrapper",children:[Object(P.jsx)(Y.a,{onClick:e.onShow,className:"exit-button"}),Object(P.jsx)(b.b,{onSubmit:function(e){return D.apply(this,arguments)},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(P.jsxs)("form",{onSubmit:t,children:[Object(P.jsx)("h1",{children:"Sign In"}),Object(P.jsx)("span",{className:"message",children:m}),Object(P.jsx)(b.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(P.jsxs)("div",{className:"email-input",children:[Object(P.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(P.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Email",Object(P.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(P.jsx)("span",{className:"error",children:a.error})]})}}),Object(P.jsx)(b.a,{name:"password",children:function(e){var t=e.input,a=e.meta;return Object(P.jsxs)("div",{className:"password-input",children:[Object(P.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(P.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Password",Object(P.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(P.jsx)("span",{className:"error",children:a.error})]})}}),Object(P.jsxs)("div",{className:"remember-me",children:[Object(P.jsx)("input",{type:"checkbox",id:"remember",name:"chkbox"}),Object(P.jsx)("label",{htmlFor:"chkbox",children:"Remember Me"})]}),Object(P.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}})]});return y};var ee=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],l=function(){r(!a)},d=function(){o(!i)};return Object(P.jsxs)("section",{className:"index-wrapper content",children:[Object(P.jsx)("h1",{children:"Welcome,"}),Object(P.jsx)("p",{children:"You can use this simple web application to track your menstrual cycle. More features are being added soon. Please note this application is still in the early stages, as a result, the accuracy of the tracking is still being tweaked, and pages might be a little slow to load."}),Object(P.jsx)("hr",{}),Object(P.jsxs)("div",{className:"login-button-container",children:[Object(P.jsxs)("span",{children:["Already have an account? ",Object(P.jsx)("button",{onClick:l,children:"Login here"})]}),Object(P.jsxs)("span",{className:"signup",children:["or you can",Object(P.jsx)("button",{onClick:d,children:"make one here"})]})]}),a&&Object(P.jsx)("div",{className:"page-fade",children:Object(P.jsx)($,{onShow:l})}),i&&Object(P.jsx)("div",{className:"page-fade",children:Object(P.jsx)(E,{onShow:d})})]})},te=a(53),ae=a(95);var ne=function(e){var t=Object(ae.b)(F.a);return console.log(e.event),Object(P.jsx)("div",{className:"profile-cal",children:Object(P.jsx)(ae.a,{localizer:t,events:e.event,startAccessor:e.start,endAccessor:e.end,views:"month"})})},re=a(18),ce=a(17),se=Object(re.a)((function e(t,a,n,r){Object(ce.a)(this,e),this.title=t,this.start=a,this.end=n,this.allDay=r})),ie=function(){function e(){Object(ce.a)(this,e),this.events=[]}return Object(re.a)(e,[{key:"newEvent",value:function(e,t,a,n){this.events.push(new se(e,t,a,n))}},{key:"allEvents",get:function(){return this.events}}]),e}(),oe=function(){var e=Object(o.n)(),t=Object(S.b)(),a=Object(S.c)((function(e){return e.user})),r=Object(S.c)((function(e){return e.periodEndDate})),c=Object(S.c)((function(e){return e.periodStartDate})),s=Object(S.c)((function(e){return e.token})),i=Object(S.c)((function(e){return e.email})),l=Object(S.c)((function(e){return e.previousPeriod})),b=L(i,s),h=Object(n.useState)(!1),O=Object(u.a)(h,2),m=O[0],x=O[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),D=g[0],y=g[1],w=Object(n.useState)(!1),N=Object(u.a)(w,2),k=N[0],B=N[1],Y=Object(n.useState)(""),E=Object(u.a)(Y,2),C=E[0],M=E[1],A=Object(n.useState)(""),V=Object(u.a)(A,2),R=V[0],q=V[1],T=Object(n.useState)(""),I=Object(u.a)(T,2),H=I[0],W=I[1],U=Object(n.useState)(""),G=Object(u.a)(U,2),_=G[0],K=G[1],Q=Object(n.useState)(""),X=Object(u.a)(Q,2),Z=(X[0],X[1]),$=new ie,ee=Object(n.useState)($.allEvents),te=Object(u.a)(ee,2),ae=te[0],re=(te[1],function(){var e=Object(j.a)(Object(d.a)().mark((function e(t){var a,n,s,i,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==ae.length){for(a in l)n=F()(l[a].startDate),s=F()(l[a].endDate),$.newEvent("Period Active",n,s,!0);c&&r&&(i=F()(c),o=F()(r),$.newEvent("Period Active",i,o,!0))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce=function(){y(!D)};Object(n.useEffect)((function(){re(b)}),[]);var se=Object(P.jsxs)("div",{className:"page-wrapper",children:[Object(P.jsx)(z,{}),Object(P.jsxs)("section",{className:"profile content",children:[Object(P.jsxs)("h1",{className:"welcome-text",children:["Hello ",a,","]}),Object(P.jsxs)("div",{className:"calander",children:[Object(P.jsx)("h2",{children:"Here is how you month looks"}),Object(P.jsx)(ne,{event:ae})]}),Object(P.jsxs)("div",{className:"account-settings",children:[Object(P.jsx)("button",{onClick:function(){x(!m)},children:"Settings"}),m&&Object(P.jsxs)("div",{className:"inner-account-settings",children:[Object(P.jsxs)("div",{className:"setting-option",children:[Object(P.jsx)("button",{onClick:function(){B(!k)},children:"Password Change"}),k&&Object(P.jsxs)("form",{className:"password-change",onSubmit:function(){H==_?p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/changepassword"),{email:i,oldPassword:R,newPassword:H},{headers:{Authorization:"Bearer ".concat(s)}}):Z("New passwords do not match")},children:[Object(P.jsxs)("div",{className:"password-input",children:[Object(P.jsx)("input",{type:"password",value:R,onChange:function(e){q(e.target.value)}}),Object(P.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Old Password",Object(P.jsx)("small",{children:"*"})]})})]}),Object(P.jsxs)("div",{className:"password-input",children:[Object(P.jsx)("input",{type:"password",value:H,onChange:function(e){W(e.target.value)}}),Object(P.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["New Password",Object(P.jsx)("small",{children:"*"})]})})]}),Object(P.jsxs)("div",{className:"password-input",children:[Object(P.jsx)("input",{type:"password",value:_,onChange:function(e){K(e.target.value)}}),Object(P.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(P.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(P.jsx)("small",{children:"*"})]})})]}),Object(P.jsx)("button",{type:"submit",children:"Submit"})]})]}),Object(P.jsx)("div",{className:"setting-option",children:Object(P.jsx)("button",{onClick:ce,children:"Delete Account"})})]})]}),D&&Object(P.jsx)("div",{className:"page-fade",children:Object(P.jsxs)("div",{className:"warning-box",children:[Object(P.jsx)("h1",{children:"Please enter your email adress to delete your account."}),Object(P.jsxs)("form",{onSubmit:function(){C===i&&(p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/deleteuser"),{email:i},{headers:{Authorization:"Bearer ".concat(s)}}),t(f()),e("/"))},className:"delete-account",children:[Object(P.jsxs)("div",{className:"email-input",children:[Object(P.jsx)("input",{type:"email",value:C,onChange:function(e){M(e.target.value)}}),Object(P.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(P.jsx)("span",{className:"login-span",children:"Email"})})]}),Object(P.jsx)("button",{className:"button",type:"submit",children:"Delete"}),Object(P.jsx)("button",{className:"button",onClick:ce,children:"Cancel"})]})]})})]}),Object(P.jsx)(J,{})]});return se};var le=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.token})),a=Object(S.c)((function(e){return e.email})),r=Object(S.c)((function(e){return e.previousPeriod})),c=Object(n.useState)(),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(),b=Object(u.a)(l,2),h=b[0],O=b[1],m=Object(n.useState)(),x=Object(u.a)(m,2),f=x[0],g=x[1],D=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),y=Object(u.a)(D,2),w=y[0],N=y[1],k=function(){var n=Object(j.a)(Object(d.a)().mark((function n(){var r;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/removePeriod"),{email:a,removeDate:i},{headers:{Authorization:"Bearer ".concat(t)}});case 2:201===(r=n.sent).status&&(e(v({previousPeriod:r.data.previousPeriod})),O(r.data.message));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),B=function(t){e(v({previousPeriod:t}))},Y=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){var n,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:a,userInfo:r},{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n;case 5:c=e.sent,g("".concat(c.data.message,"!"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=F()(e[0].startDate).format(),a=F()(e[0].endDate).format();if(0!=r.length){var n=r.map((function(e){return e})),c={startDate:t,endDate:a,count:r.length};n.push(c),B(n)}else B([{startDate:t,endDate:a,count:0}])}}(w)}),[w]),Object(P.jsxs)("div",{className:"page-wrapper",children:[Object(P.jsx)(z,{}),Object(P.jsxs)("section",{className:"info content",children:[Object(P.jsxs)("div",{className:"logging-period",children:[Object(P.jsx)("h1",{children:"Do you have any more period(s) to log?"}),Object(P.jsx)("span",{className:"message",children:f}),Object(P.jsx)(te.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return N([e.selection])},moveRangeOnFirstSelection:!1,ranges:w}),Object(P.jsx)("button",{className:"button",onClick:Y,children:"Add"})]}),Object(P.jsxs)("div",{className:"remove-period",children:[Object(P.jsx)("span",{className:"message",children:h}),Object(P.jsx)("h2",{children:"Or would you like to remove some?"}),Object(P.jsxs)("fieldset",{children:[Object(P.jsx)("label",{htmlFor:"periods",children:"Select a period to remove:"}),Object(P.jsxs)("select",{name:"periods",className:"periods",onChange:function(e){o(e.target.value)},children:[Object(P.jsx)("option",{disabled:!0,selected:!0,children:"Select a date"}),r.map((function(e,t){return Object(P.jsx)("option",{value:t,children:"".concat(F()(e.startDate).format("MMMM Do YYYY")," - ").concat(F()(e.endDate).format("MMMM Do YYYY"))},e+t)}))]})]}),Object(P.jsx)("button",{className:"button",onClick:k,children:"Remove"})]})]}),Object(P.jsx)(J,{})]})};var de=function(){var e=Object(o.n)(),t=Object(S.b)(),a=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),r=Object(u.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!1),l=Object(u.a)(i,2),b=l[0],h=l[1],O=Object(S.c)((function(e){return e.previousPeriod})),m=Object(S.c)((function(e){return e.email})),x=Object(S.c)((function(e){return e.token})),f=function(e){t(v({previousPeriod:e}))};Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=F()(e[0].startDate).format(),a=F()(e[0].endDate).format();if(0!=O.length){var n=O.map((function(e){return e})),r={startDate:t,endDate:a,count:O.length};n.push(r),f(n)}else f([{startDate:t,endDate:a,count:0}])}}(c)}),[c]);var g=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:m,userInfo:O},{headers:{Authorization:"Bearer ".concat(x)}});case 4:t.sent&&e("/Home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return b?Object(P.jsx)(B,{}):Object(P.jsxs)("section",{className:"setup-wrapper",children:[Object(P.jsx)("h1",{children:"When was your last few periods?"}),Object(P.jsx)("p",{children:"Just select them below, and once your done hit next. Please try to make them as close as you can."}),Object(P.jsx)(te.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return s([e.selection])},moveRangeOnFirstSelection:!1,ranges:c}),Object(P.jsx)("button",{type:"submit",className:"nextButton",onClick:g,children:"Next"})]})},je=function(){var e=Object(S.c)((function(e){return e.periodEndDate})),t=Object(S.c)((function(e){return e.periodStartDate}));return Object(P.jsx)("div",{className:"page-wrapper",children:Object(P.jsx)(U,{startValue:t,endValue:e})})};var ue=function(){var e=Boolean(Object(S.c)((function(e){return e.token})));return Object(S.c)((function(e){return e.previousPeriod})),Object(P.jsx)(i.a,{children:Object(P.jsxs)(o.d,{children:[Object(P.jsx)(o.b,{path:"/accountsetup",element:Object(P.jsx)(de,{})}),Object(P.jsx)(o.b,{path:"/signup",element:Object(P.jsx)(E,{})}),Object(P.jsx)(o.b,{path:"/",element:Object(P.jsx)(ee,{})}),Object(P.jsx)(o.b,{path:"/profile",element:e?Object(P.jsx)(oe,{}):Object(P.jsx)(o.a,{to:"/"})}),Object(P.jsx)(o.b,{path:"/periodinfo",element:e?Object(P.jsx)(le,{}):Object(P.jsx)(o.a,{to:"/"})}),Object(P.jsx)(o.b,{path:"/home",element:e?Object(P.jsx)(Z,{}):Object(P.jsx)(o.a,{to:"/"})}),Object(P.jsx)(o.b,{path:"/Test1",element:Object(P.jsx)(je,{})})]})})},be=a(40),pe=a(124),he=a.n(pe),Oe=a(125),me={key:"root",storage:he.a,version:1},xe=Object(be.g)(me,k),fe=Object(h.a)({reducer:xe,middleware:function(e){return e({serializableCheck:{ignoredActions:[be.a,be.f,be.b,be.c,be.d,be.e]}})}});s.a.createRoot(document.getElementById("root")).render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(S.a,{store:fe,children:Object(P.jsx)(Oe.a,{loading:null,persistor:Object(be.h)(fe),children:Object(P.jsx)(ue,{})})})}))}},[[167,1,2]]]);
//# sourceMappingURL=main.6497503d.chunk.js.map