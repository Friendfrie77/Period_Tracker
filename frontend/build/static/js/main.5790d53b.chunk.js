(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{116:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(103),s=a.n(r),i=(a(116),a(29)),o=a(13),l=a(25),d=a(15),j=a(21),u=a(14),b=a(36),p=a(149),h=a(68),O=Object(h.b)({name:"auth",initialState:{user:null,email:null,token:null,cycle:null,avgLength:null,periodStartDate:null,periodEndDate:null,daysTillPeriod:null,canBleed:!1,isBleeding:!1,daysleft:null,previousPeriod:[{startDate:null,endDate:null,count:null}]},reducers:{setLogin:function(e,t){e.user=t.payload.user,e.email=t.payload.email,e.token=t.payload.token,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.daysTillPeriod=t.payload.cycle,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod},setLogout:function(e){e.user=null,e.token=null,e.cycle=null,e.daysTillPeriod=null,e.periodStartDate=null,e.periodEndDate=null,e.daysTillPeriod=null,e.canBleed=!1,e.isBleeding=!1,e.previousPeriod=null},setPeriod:function(e,t){e.previousPeriod=t.payload.previousPeriod},setCycle:function(e,t){e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength},setNewPeriod:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate},setUserInfo:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod},setCanBleed:function(e,t){e.canBleed=t.payload.canBleed},setIsBleeding:function(e,t){e.isBleeding=t.payload.isBleeding},setDays:function(e,t){e.daysleft=t.payload.daysleft}}}),m=O.actions,x=m.setLogin,f=m.setLogout,v=m.setPeriod,g=m.setCycle,D=m.setNewPeriod,y=m.setUserInfo,w=m.setIsBleeding,N=m.setCanBleed,k=(m.setDays,O.reducer),Y=a(17),B=a(1),S=function(){return Object(B.jsx)("div",{className:"loading",children:Object(B.jsx)("div",{className:"spinner"})})};function P(){var e=Object(o.n)(),t=Object(Y.b)(),a=Object(n.useState)(),c=Object(u.a)(a,2),r=(c[0],c[1]),s=Object(n.useState)(!1),i=Object(u.a)(s,2),h=i[0],O=i[1],m=function(){var a=Object(j.a)(Object(d.a)().mark((function a(n){var c,s,i,o,l,j;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.email,s=n.username,i=n.password,O(!0),a.prev=4,a.next=7,p.a.post("".concat("https://period-tracker-api.onrender.com","/register"),{email:c,username:s,password:i});case 7:return o=a.sent,a.next=10,o;case 10:if(!a.sent){a.next=19;break}return a.next=14,p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:c,password:i});case 14:return l=a.sent,a.next=17,l;case 17:(j=a.sent)&&(t(x({user:j.data.user.username,email:j.data.user.email,token:j.data.accessToken,cycle:j.data.user.cycle,periodStartDate:j.data.user.periodStartDate,periodEndDate:j.data.user.periodEndDate,previousPeriod:j.data.user.previousPeriod})),e("/AccountSetup"));case 19:a.next=25;break;case 21:a.prev=21,a.t0=a.catch(4),console.log(a.t0),r(a.t0);case 25:case"end":return a.stop()}}),a,null,[[4,21]])})));return function(e){return a.apply(this,arguments)}}();return h?Object(B.jsx)(S,{}):Object(B.jsxs)("section",{className:"login-wrapper",children:[Object(B.jsx)("h1",{children:"SignUp In"}),Object(B.jsx)(b.b,{onSubmit:m,validate:function(e){var t={};return e.email||(t.email="Required"),e.username||(t.username="Required"),e.password||(t.password="Required"),e.passwordconfirm?e.password!==e.passwordconfirm&&(t.passwordconfirm="Must match"):t.passwordconfirm="Required",t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(B.jsxs)("form",{onSubmit:t,children:[Object(B.jsx)(b.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"email-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(B.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Email",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{name:"username",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"username-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"text",required:!0})),Object(B.jsx)("label",{htmlFor:"username",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Username",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{type:"password",name:"password",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Password",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{type:"password",name:"passwordconfirm",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(B.jsx)("label",{htmlFor:"passwordconfirm",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}})]})}var M=a(16),C=a(22),E=a.n(C);function F(){return(F=Object(j.a)(Object(d.a)().mark((function e(t,a){var n,c,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Y.b)(),n=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/getuserinfo"),{email:t},{headers:{Authorization:"Bearer ".concat(a)}}),e.next=4,n;case 4:if(!(c=e.sent)){e.next=10;break}return r={periodStartDate:c.data.user.periodStartDate,avgLength:c.data.user.avgLength,cycle:c.data.user.cycle,periodEndDate:c.data.user.periodEndDate,previousPeriod:c.data.user.previousPeriod,canBleed:c.data.user.canBleed,isBleeding:c.data.user.isBleeding},e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=a(109),A=function(){var e=Object(Y.b)(),t=Object(Y.c)((function(e){return e.cycle})),a=Object(Y.c)((function(e){return e.avgLength})),n=Object(Y.c)((function(e){return e.previousPeriod}));return Object(B.jsxs)("nav",{className:"nav",children:[Object(B.jsx)("div",{className:"logo",children:"placeholder"}),Object(B.jsx)("input",{id:"mobile-nav-toggle",type:"checkbox"}),Object(B.jsx)("label",{className:"mobile-nav-container",htmlFor:"mobile-nav-toggle",children:Object(B.jsx)("div",{className:"mobile-nav",id:"mobile-nav"})}),Object(B.jsxs)("ul",{className:"nav-links",id:"nav-links",children:[Object(B.jsxs)("li",{className:"stats",children:[Object(B.jsx)("h3",{children:"Information at a Glance"}),Object(B.jsxs)("span",{children:["Cycle Lenght: ",t," days"]}),Object(B.jsx)("br",{}),Object(B.jsxs)("span",{children:["Average Length: ",a," days "]}),Object(B.jsx)("br",{}),Object(B.jsxs)("span",{children:["Periods Logged: ",n.length]})]}),Object(B.jsx)("li",{className:"nav-item",children:Object(B.jsx)(i.c,{to:"/home",children:"Home"})}),Object(B.jsx)("li",{className:"nav-item",children:Object(B.jsx)(i.c,{to:"/profile",children:"Profile"})}),Object(B.jsx)("li",{className:"nav-item",children:Object(B.jsx)(i.c,{to:"/periodinfo",children:"Period Info"})}),Object(B.jsx)("li",{className:"logout",children:Object(B.jsx)("button",{onClick:function(){e(f())},children:Object(B.jsx)(L.a,{})})})]})]})},R=a(73),I=function(e,t){return Object(B.jsx)("div",{className:"countdown-wrapper",children:Object(B.jsx)("div",{className:"days-left",children:Object(B.jsxs)("span",{children:[t,"\xa0",e]})})})},T=function(e){var t=E()(e.startDate).format("YYYY-MM-DD"),a=E()(e.endDate).format("YYYY-MM-DD"),n=86400,c=Date.now()/1e3,r=new Date(t).getTime()/1e3,s=new Date(a).getTime()/1e3,i=s-r,o=s-c;console.log(o);return Object(B.jsx)("div",{className:"countdown-timer",children:Object(B.jsx)(R.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:["#EAE8FF","#FF6947","#FA2C00"],colorsTime:[r,432e3,0],duration:i,initialRemainingTime:o,children:function(e){var t,a=e.elapsedTime,c=e.color;return Object(B.jsx)("span",{style:{color:c},children:I("days",(t=i-a,t/n|0))})}}))})},q=function(e){return Object(B.jsxs)("section",{className:"home",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(B.jsx)("div",{className:"placeholder"}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Your next period is in"}),Object(B.jsx)(T,{startDate:e.startDate,endDate:e.endDate})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]})},H=function(e){return Object(B.jsxs)("section",{className:"home",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("h1",{className:"welcome-text",children:["Welcome back, ",e.userName]}),Object(B.jsx)("div",{className:"placeholder"}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Your period should be over in"}),Object(B.jsx)(T,{startDate:e.startDate,endDate:e.endDate})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period ended?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]})},z=function(e){return Object(B.jsx)("div",{className:"countdown-timer",children:Object(B.jsx)(R.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:"#EAE8FF",children:function(t){var a=t.color;return Object(B.jsx)("span",{style:{color:a},children:(e.message,Object(B.jsx)("div",{className:"countdown-wrapper",children:Object(B.jsx)("div",{className:"days-left",children:Object(B.jsx)("span",{children:e.message})})}))})}}))})},W=function(e){return Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("section",{className:"home",children:[Object(B.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(B.jsx)("div",{className:"placeholder"}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Your period might be here"}),Object(B.jsxs)("div",{className:"inner-circle",children:[Object(B.jsx)(z,{startDate:e.startDate,endDate:e.endDate}),Object(B.jsx)("span",{children:"Today"})]})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]})]})},U=function(e){return Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("section",{className:"home",children:[Object(B.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(B.jsx)("div",{className:"placeholder"}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Error"}),Object(B.jsx)(z,{message:e.message})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]})]})},J=function(){var e=Object(Y.b)(),t=Object(Y.c)((function(e){return e.cycle})),a=Object(Y.c)((function(e){return e.user})),c=Object(Y.c)((function(e){return e.previousPeriod})),r=Object(Y.c)((function(e){return e.periodEndDate})),s=Object(Y.c)((function(e){return e.periodStartDate})),i=Object(Y.c)((function(e){return e.avgLength})),o=Object(Y.c)((function(e){return e.token})),l=Object(Y.c)((function(e){return e.email})),b=Object(Y.c)((function(e){return e.isBleeding})),h=Object(Y.c)((function(e){return e.canBleed})),O=Object(n.useState)(!0),m=Object(u.a)(O,2),x=m[0],f=m[1],k=new Date;k=E()(k).format("YYYY-MM-DD");var S=function(e,t){return F.apply(this,arguments)}(l,o),P=function(e){var t=0,a=0,n=null,c=0,r=e.length;return 1!==r&&(e.forEach((function(e){if(t+=E()(e.endDate).diff(e.startDate,"days"),null!=n){var r=E()(n).diff(e.startDate,"month",!0);Math.abs(r)<1.5&&(a+=Math.abs(E()(e.startDate).diff(n,"days")),c+=1)}else n=E()(e.startDate)})),{avgLength:Math.round(t/r),cycle:Math.round(a/c)})}(c),C=function(e,t,a,n,c){var r,s,i=null,o=new Date;if(o=E()(o).format(),e&&t)return!1;a.forEach((function(e){(null===i||i<e.startDate)&&(i=e.startDate)}));var l=E()(o).diff(i,"month");if(n&&c)if(l>1){var d=E()(i).add(l,"months");r=E()(d).add(n,"days"),s=E()(d).add(c,"days")}else i=E()(i).format(),r=E()(i).add(n,"days"),s=E()(r).add(c,"days");return{startDate:r,endDate:s}}(s,r,c,t,i),L=E()(s).subtract(t,"days"),A=function(){var t=Object(j.a)(Object(d.a)().mark((function t(a,n,c){var i,o,l,j,u;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:i=t.sent,e(y({periodStartDate:i.periodStartDate,periodEndDate:i.periodEndDate,canBleed:i.canBleed,isBleeding:i.isBleeding,previousPeriod:i.previousPeriod})),n&&(o=n.cycle,l=n.avgLength,e(g({cycle:o,avgLength:l}))),c&&(console.log(c),j=E()(c.startDate).format("YYYY-MM-DD"),u=E()(c.endDate).format("YYYY-MM-DD"),e(D({periodStartDate:j,periodEndDate:u})),console.log(s,r),R(j,u)),f(!1),(E()(s).format("YYYY-MM-DD")==k||E()(s).format("YYYY-MM-DD")<k&&!b)&&e(N({canBleed:!0}));case 8:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(Object(d.a)().mark((function e(a,n){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.post("".concat("https://period-tracker-api.onrender.com","/user/addperiod"),{email:l,startDate:a,endDate:n,cycle:t,avgLength:i},{headers:{Authorization:"Bearer ".concat(o)}});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t,a){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/updateperiod"),{email:l,periodStartDate:t,periodEndDate:a},{headers:{Authorization:"Bearer ".concat(o)}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n,c,o,l;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E()(s).format("YYYY-MM-DD")==k){t.next=12;break}return a=E()(k).add("days",i).format("YYYY-MM-DD"),n=I(k,a),console.log(n),t.next=6,n;case 6:c=t.sent,console.log(c.data.isBleeding),e(N({canBleed:c.data.canBleed})),e(w({isBleeding:c.data.isBleeding})),t.next=19;break;case 12:return o=I(s,r),t.next=15,o;case 15:l=t.sent,console.log(l.data.isBleeding),e(N({canBleed:l.data.canBleed})),e(w({isBleeding:l.data.isBleeding}));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r!=k?(a=E()(k).add("days",i).format("YYYY-MM-DD"),e(v({previousPeriod:[].concat(Object(M.a)(c),[{startDate:s,endDate:a}])})),e(w({isBleeding:!1}))):(e(v({previousPeriod:[].concat(Object(M.a)(c),[{startDate:s,endDate:r}])})),e(w({isBleeding:!1})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){A(S,P,C)}),[]),console.log(h,b);return function(e,n,c){return e||n||c?n?Object(B.jsx)(W,{userName:a,onClick:T,endDate:s,startDate:k}):c?Object(B.jsx)(U,{userName:a,onClick:null,message:"More logs are required"}):Object(B.jsx)(H,{userName:a,onClick:z,endDate:r,startDate:s}):Object(B.jsx)(q,{cycle:t,userName:a,endDate:s,startDate:L,onClick:T})}(b,h,x)};var G=function(){var e=Object(o.n)(),t=Object(Y.b)(),a=Object(n.useState)(!1),c=Object(u.a)(a,2),r=c[0],s=c[1],h=Object(n.useState)(""),O=Object(u.a)(h,2);function m(){return(m=Object(j.a)(Object(d.a)().mark((function a(n){var c,r,i,o;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),c=n.email,r=n.password,a.next=5,p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:c,password:r});case 5:return i=a.sent,a.next=8,i;case 8:(o=a.sent)&&t(x({user:o.data.user.username,email:o.data.user.email,token:o.data.accessToken,cycle:o.data.user.cycle,avgLength:o.data.avgLength,periodStartDate:o.data.user.periodStartDate,periodEndDate:o.data.user.periodEndDate,previousPeriod:o.data.user.previousPeriod,isBleeding:o.data.user.isBleeding,canBleed:o.data.user.canBleed})),e("/home");case 12:case"end":return a.stop()}}),a)})))).apply(this,arguments)}O[0],O[1];var f=r?Object(B.jsx)(S,{}):Object(B.jsxs)("section",{className:"login-wrapper",children:[Object(B.jsx)("h1",{children:"Sign In"}),Object(B.jsx)(b.b,{onSubmit:function(e){return m.apply(this,arguments)},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(B.jsxs)("form",{onSubmit:t,children:[Object(B.jsx)(b.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"email-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(B.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Email",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{name:"password",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Password",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsxs)("div",{className:"remember-me",children:[Object(B.jsx)("input",{type:"checkbox",id:"remember",name:"chkbox"}),Object(B.jsx)("label",{htmlFor:"chkbox",children:"Remember Me"})]}),Object(B.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}}),Object(B.jsx)("hr",{}),Object(B.jsxs)("div",{className:"sign-up",children:[Object(B.jsx)("span",{children:"New?"}),Object(B.jsx)(i.b,{to:"/signup",children:"Create an account here"})]})]});return f},V=a(49),_=function(){var e=(new Date).getFullYear();return Object(B.jsx)("footer",{children:Object(B.jsxs)("span",{children:["\xa9 ",e," ",Object(B.jsx)("a",{href:"albertfriend.dev",target:"_blank",children:"Albert Friend"})]})})},K=function(){var e=Object(o.n)(),t=Object(Y.b)(),a=Object(Y.c)((function(e){return e.user})),c=Object(Y.c)((function(e){return e.periodEndDate})),r=Object(Y.c)((function(e){return e.periodStartDate})),s=Object(Y.c)((function(e){return e.token})),i=Object(Y.c)((function(e){return e.email})),l=Object(n.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(n.useState)(!1),O=Object(u.a)(h,2),m=O[0],x=O[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),D=g[0],y=g[1],w=Object(n.useState)(""),N=Object(u.a)(w,2),k=N[0],S=N[1],P=Object(n.useState)(""),M=Object(u.a)(P,2),C=M[0],F=M[1],L=Object(n.useState)(""),R=Object(u.a)(L,2),I=R[0],T=(R[1],Object(n.useState)("")),q=Object(u.a)(T,2),H=q[0],z=(q[1],Object(n.useState)([{startDate:new Date(E()(r).format("MM-DD-YYYY")),endDate:new Date(E()(c).format("MM-DD-YYYY"))}])),W=Object(u.a)(z,2),U=W[0],J=(W[1],function(e){F(e)}),G=function(){x(!m)},K=Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("section",{className:"profile",children:[Object(B.jsxs)("h1",{className:"welcome-text",children:["Hello ",a,","]}),Object(B.jsx)("h2",{children:"here is how you month looks"}),Object(B.jsx)(V.DateRange,{editableDateInputs:!1,showMonthAndYearPickers:!1,ranges:U}),Object(B.jsxs)("div",{className:"account-settings",children:[Object(B.jsx)("button",{onClick:function(){b(!j)},children:"Settings"}),j&&Object(B.jsxs)("div",{className:"inner-account-settings",children:[Object(B.jsx)("div",{className:"setting-option",children:Object(B.jsx)("button",{children:"Email Notifications"})}),Object(B.jsxs)("div",{className:"setting-option",children:[Object(B.jsx)("button",{onClick:function(){y(!D)},children:"Password Change"}),D&&Object(B.jsxs)("form",{className:"password-change",children:[Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",{type:"password",value:C,onChange:J}),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Old Password",Object(B.jsx)("small",{children:"*"})]})})]}),Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",{type:"password",value:I,onChange:J}),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Old Password",Object(B.jsx)("small",{children:"*"})]})})]}),Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",{type:"password",value:H,onChange:J}),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Old Password",Object(B.jsx)("small",{children:"*"})]})})]}),Object(B.jsx)("button",{type:"submit",children:"Submit"})]})]}),Object(B.jsx)("div",{className:"setting-option",children:Object(B.jsx)("button",{onClick:G,children:"Delete Account"})})]})]}),m&&Object(B.jsx)("div",{className:"page-fade",children:Object(B.jsxs)("div",{className:"warning-box",children:[Object(B.jsx)("h1",{children:"Please enter your email adress to delete your account."}),Object(B.jsxs)("form",{onSubmit:function(){k===i&&(console.log("test"),p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/deleteuser"),{email:i},{headers:{Authorization:"Bearer ".concat(s)}}),t(f()),e("/"))},className:"delete-account",children:[Object(B.jsxs)("div",{className:"email-input",children:[Object(B.jsx)("input",{type:"email",value:k,onChange:function(e){S(e.target.value)}}),Object(B.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(B.jsx)("span",{className:"login-span",children:"Email"})})]}),Object(B.jsx)("button",{type:"submit",children:"Delete"}),Object(B.jsx)("button",{onClick:G,children:"Cancel"})]})]})})]}),Object(B.jsx)(_,{})]});return K};var Q=function(){var e=Object(n.useState)([{startDate:new Date,endDate:new Date(""),key:"selection"}]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(Y.c)((function(e){return e.previousPeriod}));return Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("div",{className:"logging-period",children:[Object(B.jsx)("h1",{children:"Do you have any more period(s) to log?"}),Object(B.jsx)(V.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return c([e.selection])},moveRangeOnFirstSelection:!1,ranges:a})]}),Object(B.jsxs)("div",{className:"remove-period",children:[Object(B.jsx)("h2",{children:"Or would you like to remove some?"}),Object(B.jsxs)("fieldset",{children:[Object(B.jsx)("label",{htmlFor:"periods",children:"Select a period to remove:"}),Object(B.jsxs)("select",{name:"periods",className:"periods",children:[Object(B.jsx)("option",{disabled:!0,selected:!0,children:"Select a date"}),r.map((function(e,t){return Object(B.jsx)("option",{value:t,children:"".concat(E()(e.startDate).format("MMMM Do YYYY")," - ").concat(E()(e.endDate).format("MMMM Do YYYY"))},e+t)}))]})]}),Object(B.jsx)("button",{onClick:function(){},children:"Remove"})]}),Object(B.jsx)(_,{})]})},X=function(){var e=Object(o.n)(),t=Object(Y.b)(),a=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),l=Object(u.a)(i,2),b=l[0],h=l[1],O=Object(Y.c)((function(e){return e.previousPeriod})),m=Object(Y.c)((function(e){return e.email})),x=Object(Y.c)((function(e){return e.token})),f=function(e){t(v({previousPeriod:e}))};Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=E()(e[0].startDate).format(),a=E()(e[0].endDate).format();if(0!=O.length){var n=O.map((function(e){return e})),c={startDate:t,endDate:a,count:O.length};n.push(c),f(n)}else f([{startDate:t,endDate:a,count:0}])}}(r)}),[r]);var g=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:m,userInfo:O},{headers:{Authorization:"Bearer ".concat(x)}});case 4:t.sent&&e("/Home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return console.log(r),b?Object(B.jsx)(S,{}):Object(B.jsxs)("section",{className:"setup-wrapper",children:[Object(B.jsx)("h1",{children:"When was your last few periods?"}),Object(B.jsx)("p",{children:"Just select them below, and once your done hit next. Please try to make them as close as you can."}),Object(B.jsx)(V.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return s([e.selection])},moveRangeOnFirstSelection:!1,ranges:r}),Object(B.jsx)("button",{type:"submit",className:"nextButton",onClick:g,children:"Next"})]})},Z=a(34),$=a(108),ee=function(){var e=document.getElementById("calendar");new Z.a(e,{plugins:[$.a],initialView:"resourceTimelineWeek",resources:[{title:"Resource A"},{title:"Resource B"}]}).render()};var te=function(){var e=Boolean(Object(Y.c)((function(e){return e.token})));return Object(Y.c)((function(e){return e.previousPeriod})),Object(B.jsx)(i.a,{children:Object(B.jsxs)(o.d,{children:[Object(B.jsx)(o.b,{path:"/accountsetup",element:Object(B.jsx)(X,{})}),Object(B.jsx)(o.b,{path:"/signup",element:Object(B.jsx)(P,{})}),Object(B.jsx)(o.b,{path:"/",element:Object(B.jsx)(G,{})}),Object(B.jsx)(o.b,{path:"/profile",element:e?Object(B.jsx)(K,{}):Object(B.jsx)(o.a,{to:"/"})}),Object(B.jsx)(o.b,{path:"/periodinfo",element:e?Object(B.jsx)(Q,{}):Object(B.jsx)(o.a,{to:"/"})}),Object(B.jsx)(o.b,{path:"/home",element:e?Object(B.jsx)(J,{}):Object(B.jsx)(o.a,{to:"/"})}),Object(B.jsx)(o.b,{path:"/Test1",element:Object(B.jsx)(ee,{})})]})})},ae=a(40),ne=a(106),ce=a.n(ne),re=a(107),se={key:"root",storage:ce.a,version:1},ie=Object(ae.g)(se,k),oe=Object(h.a)({reducer:ie,middleware:function(e){return e({serializableCheck:{ignoredActions:[ae.a,ae.f,ae.b,ae.c,ae.d,ae.e]}})}});s.a.createRoot(document.getElementById("root")).render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(Y.a,{store:oe,children:Object(B.jsx)(re.a,{loading:null,persistor:Object(ae.h)(oe),children:Object(B.jsx)(te,{})})})}))}},[[147,1,2]]]);
//# sourceMappingURL=main.5790d53b.chunk.js.map