(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{133:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(109),s=a.n(r),i=(a(133),a(31)),o=a(10),l=a(13),d=a(36),u=a(2),j=function(){return Object(u.jsx)("div",{className:"loading",children:Object(u.jsx)("div",{className:"spinner"})})},b=a(67);function p(e,t){return e===t?e.length<6?{isvaild:!1,msg:"Password must be longer than 6 characters"}:e.search(/[a-z]/i)<0?{isvaild:!1,msg:"Password must contain at least one letter"}:e.search(/[0-9]/i)<0?{isvaild:!1,msg:"Password must contain at least one number"}:!(e.search(/^(?=.*[~`!@#$%^&*()--+={}\[\]|\\:;"'<>,.?/_\u20b9]).*$/i)<0)||{isvaild:!1,msg:"Password must contain at least one special symbol"}:{isvaild:!1,msg:"New passwords do not match"}}function O(e){return e.loading?Object(u.jsx)(j,{}):Object(u.jsxs)("section",{className:"login-wrapper",children:[Object(u.jsx)(b.a,{onClick:e.onShow,className:"exit-button"}),Object(u.jsx)(d.b,{onSubmit:e.onSubmit,validate:function(t){var a={};if(t.email||(a.email="Required"),t.username||(a.username="Required"),t.password||(a.password="Required"),t.passwordconfirm){var n=p(t.password,t.passwordconfirm);n.isvaild||e.setErr(n.msg)}else a.passwordconfirm="Required";return a},render:function(t){var a=t.handleSubmit,n=(t.form,t.submitting);t.pristine,t.values;return Object(u.jsxs)("form",{onSubmit:a,children:[Object(u.jsx)("span",{className:"message-warning",children:e.err}),Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsx)(d.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(u.jsxs)("div",{className:"email-input",children:[Object(u.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(u.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Email",Object(u.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(u.jsx)("span",{className:"error",children:a.error})]})}}),Object(u.jsx)(d.a,{name:"username",children:function(e){var t=e.input,a=e.meta;return Object(u.jsxs)("div",{className:"username-input",children:[Object(u.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"text",required:!0})),Object(u.jsx)("label",{htmlFor:"username",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Username",Object(u.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(u.jsx)("span",{className:"error",children:a.error})]})}}),Object(u.jsx)(d.a,{type:"password",name:"password",children:function(e){var t=e.input,a=e.meta;return Object(u.jsxs)("div",{className:"password-input",children:[Object(u.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(u.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Password",Object(u.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(u.jsx)("span",{className:"error",children:a.error})]})}}),Object(u.jsx)(d.a,{type:"password",name:"passwordconfirm",children:function(e){var t=e.input,a=e.meta;return Object(u.jsxs)("div",{className:"password-input",children:[Object(u.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(u.jsx)("label",{htmlFor:"passwordconfirm",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(u.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(u.jsx)("span",{className:"error",children:a.error})]})}}),Object(u.jsx)("button",{type:"submit",disabled:n,children:"Submit"})]})}})]})}var h=a(12),m=a(26),x=a(9),f=a(14),v=a(5),g=a(71),w=Object(g.b)({name:"auth",initialState:{user:null,email:null,token:null,cycle:null,avgLength:null,periodStartDate:null,periodEndDate:null,daysTillPeriod:null,canBleed:!1,isBleeding:!1,daysleft:null,previousPeriod:[{startDate:null,endDate:null,count:null}],notification:!1},reducers:{setLogin:function(e,t){e.user=t.payload.user,e.email=t.payload.email,e.token=t.payload.token,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.daysTillPeriod=t.payload.cycle,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod,e.notification=t.payload.notification},setLogout:function(e){e.user=null,e.token=null,e.cycle=null,e.daysTillPeriod=null,e.periodStartDate=null,e.periodEndDate=null,e.daysTillPeriod=null,e.canBleed=!1,e.isBleeding=!1,e.previousPeriod=null,e.notification=!1},setPeriod:function(e,t){e.previousPeriod=t.payload.previousPeriod},setCycle:function(e,t){e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength},setNewPeriod:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate},setUserInfo:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod},setCanBleed:function(e,t){e.canBleed=t.payload.canBleed},setIsBleeding:function(e,t){e.isBleeding=t.payload.isBleeding},setDays:function(e,t){e.daysleft=t.payload.daysleft},setNotificationStatus:function(e,t){e.notification=t.payload.notification}}}),D=w.actions,y=D.setLogin,N=D.setLogout,k=D.setPeriod,S=D.setCycle,P=D.setNewPeriod,B=D.setUserInfo,C=D.setIsBleeding,Y=D.setCanBleed,E=(D.setDays,D.setNotificationStatus),M=w.reducer,A=a(15),L=a.n(A),F=a(112),V=(a.p,a.p+"static/media/logo2.18d8e11e.svg"),R=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.cycle})),a=Object(h.c)((function(e){return e.avgLength})),n=Object(h.c)((function(e){return e.previousPeriod}));return Object(u.jsxs)("nav",{className:"nav",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)("img",{src:V,height:"50px",width:"50px"})}),Object(u.jsx)("input",{id:"mobile-nav-toggle",type:"checkbox"}),Object(u.jsx)("label",{className:"mobile-nav-container",htmlFor:"mobile-nav-toggle",children:Object(u.jsx)("div",{className:"mobile-nav",id:"mobile-nav"})}),Object(u.jsxs)("ul",{className:"nav-links",id:"nav-links",children:[Object(u.jsxs)("li",{className:"stats",children:[Object(u.jsx)("h3",{children:"Information at a Glance"}),Object(u.jsxs)("span",{children:["Cycle Lenght: ",t," days"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:["Average Length: ",a," days "]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:["Periods Logged: ",n.length]})]}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{to:"/home",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{to:"/profile",children:"Profile"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{to:"/periodinfo",children:"Period Info"})}),Object(u.jsx)("li",{className:"logout",children:Object(u.jsx)("button",{onClick:function(){e(N())},children:Object(u.jsx)(F.a,{})})})]})]})},z=a(74),q=function(e,t){return Object(u.jsx)("div",{className:"countdown-wrapper",children:Object(u.jsx)("div",{className:"days-left",children:Object(u.jsxs)("span",{children:[t,"\xa0",e]})})})},T=function(e){var t=Object(n.useReducer)((function(e){return e+1}),0),a=Object(v.a)(t,2),c=(a[0],a[1],86400),r=L()(e.startDate).format("YYYY-MM-DD"),s=L()(e.endDate).format("YYYY-MM-DD"),i=Date.now()/1e3,o=new Date(r).getTime()/1e3,d=new Date(s).getTime()/1e3,j=d-o,b=d-i,p=j/2,O=j/4;return Object(u.jsx)("div",{className:"countdown-timer",children:Object(u.jsx)(z.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:[e.color1,e.color2,e.color3,e.color3],colorsTime:[j,p,O,0],duration:j,initialRemainingTime:b,children:function(e){e.elapsedTime;var t,a=e.color;return Object(u.jsx)("span",{style:{color:a},children:q("days",(t=j-(j-b),Math.ceil(t/c)))})}}))})},I=a(113);var W=function(e){var t=Object(n.useState)({startValue:Date.parse(e.startValue),endValue:new Date(e.endValue),rangeDates:[]}),a=Object(v.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){r({startValue:Date.parse(e.startValue),endValue:new Date(e.endValue)})}),[e.startValue,e.endValue]),Object(u.jsx)("div",{className:"horizontal-date-picker",children:Object(u.jsx)(I.Datepicker,{startValue:c.startValue,endValue:c.endValue})})},H=function(){var e=(new Date).getFullYear();return Object(u.jsx)("footer",{children:Object(u.jsxs)("span",{children:["\xa9 ",e," ",Object(u.jsx)("a",{href:"albertfriend.dev",target:"_blank",children:"Albert Friend"})]})})},G=function(e){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("section",{className:"home content",children:[Object(u.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(u.jsx)(W,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(u.jsxs)("div",{className:"period-countdown",children:[Object(u.jsx)("h2",{children:"Your next period is in "}),Object(u.jsx)(T,{startDate:e.startDate,endDate:e.endDate,color1:"#40bf32",color2:"#e0e20c",color3:"#FA2C00"})]}),Object(u.jsxs)("div",{className:"check-period",children:[Object(u.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(u.jsx)("button",{name:"check-period",className:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(u.jsx)(H,{})]})},U=function(e){var t=Object(n.useReducer)((function(e){return e+1}),0),a=Object(v.a)(t,2),c=(a[0],a[1]);return Object(n.useEffect)((function(){c()}),[e.startDate,e.endDate,e.periodStartDate,e.periodEndDate]),Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("section",{className:"home",children:[Object(u.jsxs)("h1",{className:"welcome-text",children:["Welcome back, ",e.userName]}),Object(u.jsx)(W,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(u.jsxs)("div",{className:"period-countdown",children:[Object(u.jsx)("h2",{children:"Your period should be over in"}),Object(u.jsx)(T,{startDate:e.startDate,endDate:e.endDate,color1:"#40bf32",color2:"#e0e20c",color3:"#FA2C00"})]}),Object(u.jsxs)("div",{className:"check-period",children:[Object(u.jsx)("label",{htmlFor:"check-period",children:"Has your period ended?"}),Object(u.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(u.jsx)(H,{})]})},J=function(e){return Object(u.jsx)("div",{className:"countdown-timer",children:Object(u.jsx)(z.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:"#EAE8FF",children:function(t){var a=t.color;return Object(u.jsx)("span",{style:{color:a},children:(e.message,Object(u.jsx)("div",{className:"countdown-wrapper",children:Object(u.jsx)("div",{className:"days-left",children:Object(u.jsx)("span",{children:e.message})})}))})}}))})},$=function(e){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("section",{className:"home content",children:[Object(u.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(u.jsx)(W,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(u.jsxs)("div",{className:"period-countdown",children:[Object(u.jsx)("h2",{children:"Your period might be here"}),Object(u.jsxs)("div",{className:"inner-circle",children:[Object(u.jsx)(J,{startDate:e.startDate,endDate:e.endDate}),Object(u.jsx)("span",{children:"Today"})]})]}),Object(u.jsxs)("div",{className:"check-period",children:[Object(u.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(u.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(u.jsx)(H,{})]})},_=function(e){return Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("section",{className:"home content",children:[Object(u.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(u.jsxs)("div",{className:"period-countdown",children:[Object(u.jsx)("h2",{children:"Error"}),Object(u.jsx)(J,{message:e.message})]}),Object(u.jsxs)("div",{className:"check-period",children:[Object(u.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(u.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(u.jsx)(H,{})]})},K=a(174),Q=function(){var e=Object(f.a)(Object(x.a)().mark((function e(t,a,n,c){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("".concat("https://period-tracker-api.onrender.com","/user/setperiodinfo"),{email:t,isBleeding:a,canBleed:n},{headers:{Authorization:"Bearer ".concat(c)}});case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),X=function(){var e=Object(f.a)(Object(x.a)().mark((function e(t,a,n,c){var r;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K.a.post("".concat("https://period-tracker-api.onrender.com","/user/updateperiod"),{email:t,periodStartDate:a,periodEndDate:n},{headers:{Authorization:"Bearer ".concat(c)}}),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),Z=function(){var e=Object(f.a)(Object(x.a)().mark((function e(t,a){var n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K.a.post("".concat("https://period-tracker-api.onrender.com","/user/nullperioddates"),{email:t},{headers:{Authorization:"Bearer ".concat(a)}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(f.a)(Object(x.a)().mark((function e(t,a,n,c,r,s){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("".concat("https://period-tracker-api.onrender.com","/user/addperiod"),{email:t,startDate:a,endDate:n,cycle:c,avgLength:r},{headers:{Authorization:"Bearer ".concat(s)}});case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r,s){return e.apply(this,arguments)}}();function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(f.a)(Object(x.a)().mark((function e(t,a){var n,c,r;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K.a.post("".concat("https://period-tracker-api.onrender.com","/user/getuserinfo"),{email:t},{headers:{Authorization:"Bearer ".concat(a)}}),e.next=3,n;case 3:if(!(c=e.sent)){e.next=9;break}return r={periodStartDate:c.data.user.periodStartDate,avgLength:c.data.user.avgLength,cycle:c.data.user.cycle,periodEndDate:c.data.user.periodEndDate,previousPeriod:c.data.user.previousPeriod,canBleed:c.data.user.canBleed,isBleeding:c.data.user.isBleeding},e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){var t=0,a=0,n=null,c=0,r=e.length;return 1!==r&&(e.forEach((function(e){if(t+=L()(e.endDate).diff(e.startDate,"days"),null!=n){var r=L()(n).diff(e.startDate,"month",!0);Math.abs(r)<1.5&&(a+=Math.abs(L()(e.startDate).diff(n,"days")),c+=1)}else n=L()(e.startDate)})),{avgLength:Math.round(t/r),cycle:Math.round(a/c)})}function ce(e,t,a,n,c){var r,s,i=null,o=new Date;if(o=L()(o).format(),e&&t||!a||!n||!c)return!1;a.forEach((function(e){(null===i||i<e.startDate)&&(i=e.startDate)}));var l=L()(o).diff(i,"month");if(n&&c)if(l>1){var d=L()(i).add(l,"months");r=L()(d).add(n,"days"),s=L()(d).add(c,"days")}else i=L()(i).format(),r=L()(i).add(n,"days"),s=L()(r).add(c,"days");return{startDate:r,endDate:s}}var re=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.cycle})),a=Object(h.c)((function(e){return e.user})),c=Object(h.c)((function(e){return e.previousPeriod})),r=Object(h.c)((function(e){return e.periodEndDate})),s=Object(h.c)((function(e){return e.periodStartDate})),i=Object(h.c)((function(e){return e.avgLength})),o=Object(h.c)((function(e){return e.token})),l=Object(h.c)((function(e){return e.email})),d=Object(n.useState)(Object(h.c)((function(e){return e.isBleeding}))),j=Object(v.a)(d,2),b=j[0],p=j[1],O=Object(h.c)((function(e){return e.canBleed})),g=Object(n.useState)(!0),w=Object(v.a)(g,2),D=w[0],y=w[1],N=Object(n.useReducer)((function(e){return e+1}),0),E=Object(v.a)(N,2),M=(E[0],E[1],new Date);M=L()(M).format("YYYY-MM-DD");var A=L()(s).subtract(t,"days"),F=function(){var t=Object(f.a)(Object(x.a)().mark((function t(){var a,n,i,d,u,j,p;return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(l,o);case 2:return a=t.sent,e(B({periodStartDate:a.periodStartDate,periodEndDate:a.periodEndDate,canBleed:a.canBleed,isBleeding:a.isBleeding,previousPeriod:a.previousPeriod})),t.next=6,ne(c);case 6:return(n=t.sent)&&(i=n.cycle,d=n.avgLength,e(S({cycle:i,avgLength:d}))),t.next=10,ce(s,r,c,n.cycle,n.avgLength);case 10:if(!(u=t.sent)){t.next=19;break}if(j=L()(u.startDate).format("YYYY-MM-DD"),p=L()(u.endDate).format("YYYY-MM-DD"),e(P({periodStartDate:j,periodEndDate:p})),!j||!p){t.next=19;break}return t.next=18,ee(l,u.startDate,u.endDate,n.cycle,n.avgLength,o);case 18:t.sent;case 19:y(!1),(L()(s).format("YYYY-MM-DD")==M||L()(s).format("YYYY-MM-DD")<M&&!b)&&e(Y({canBleed:!0}));case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(f.a)(Object(x.a)().mark((function t(){var a,n,c;return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L()(s).format("YYYY-MM-DD")==M){t.next=14;break}if(a=L()(M).add(i,"days").format("YYYY-MM-DD"),"test@test.com"==l){t.next=12;break}return n=X(l,M,a,o),t.next=6,n;case 6:c=t.sent,e(Y({canBleed:c.data.canBleed})),e(C({isBleeding:c.data.isBleeding})),p(!0),t.next=14;break;case 12:e(P({periodStartDate:M,periodEndDate:a})),p(!0);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(f.a)(Object(x.a)().mark((function t(){return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r!=M?(e(k({previousPeriod:[].concat(Object(m.a)(c),[{startDate:s,endDate:M}])})),e(C({isBleeding:!1}))):(e(k({previousPeriod:[].concat(Object(m.a)(c),[{startDate:s,endDate:r}])})),e(C({isBleeding:!1}))),Q(l,!1,O,o),Z(l,o),p(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){F()}),[b,s]);return function(e,n,c){return e||n||c?n?Object(u.jsx)($,{userName:a,onClick:V,endDate:s,startDate:M,startValue:s,endValue:r}):c?Object(u.jsx)(_,{userName:a,onClick:null,message:"More logs are required"}):Object(u.jsx)(U,{userName:a,onClick:R,endDate:r,startDate:s,periodStartDate:s,periodEndDate:r}):Object(u.jsx)(G,{cycle:t,userName:a,endDate:s,startDate:A,onClick:V,periodStartDate:s,periodEndDate:r})}(b,O,D)};var se=function(e){var t=Object(o.n)(),a=Object(h.b)(),c=Object(n.useState)(!1),r=Object(v.a)(c,2),s=r[0],i=r[1],p=Object(n.useState)(),O=Object(v.a)(p,2),m=O[0],g=O[1],w=Object(n.useState)(),D=Object(v.a)(w,2);function N(){return(N=Object(f.a)(Object(x.a)().mark((function e(n){var c,r,s,o;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),c=n.email,r=n.password,e.next=5,K.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:c,password:r}).catch((function(e){e.response&&g(e.response.data.error),i(!1)}));case 5:return s=e.sent,e.next=8,s;case 8:(o=e.sent)&&(a(y({user:o.data.user.username,email:o.data.user.email,token:o.data.accessToken,cycle:o.data.user.cycle,avgLength:o.data.avgLength,periodStartDate:o.data.user.periodStartDate,periodEndDate:o.data.user.periodEndDate,previousPeriod:o.data.user.previousPeriod,isBleeding:o.data.user.isBleeding,canBleed:o.data.user.canBleed,notification:o.data.user.notification})),t("/home"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}D[0],D[1];var k=s?Object(u.jsx)(j,{}):Object(u.jsxs)("section",{className:"login-wrapper",children:[Object(u.jsx)(b.a,{onClick:e.onShow,className:"exit-button"}),Object(u.jsx)(d.b,{onSubmit:function(e){return N.apply(this,arguments)},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsx)("h1",{children:"Sign In"}),Object(u.jsx)("span",{className:"message warning",children:m}),Object(u.jsx)(d.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(u.jsxs)("div",{className:"email-input",children:[Object(u.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(u.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Email",Object(u.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&g("Invaild email")]})}}),Object(u.jsx)(d.a,{name:"password",children:function(e){var t=e.input,a=e.meta;return Object(u.jsxs)("div",{className:"password-input",children:[Object(u.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(u.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Password",Object(u.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&g("Required")]})}}),Object(u.jsxs)("div",{className:"remember-me",children:[Object(u.jsx)("input",{type:"checkbox",id:"remember",name:"chkbox"}),Object(u.jsx)("label",{htmlFor:"chkbox",children:"Remember Me"})]}),Object(u.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}})]});return k};var ie=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(v.a)(r,2),i=s[0],l=s[1],d=Object(n.useState)(!1),j=Object(v.a)(d,2),b=j[0],p=j[1],m=Object(n.useState)(""),g=Object(v.a)(m,2),w=g[0],D=g[1],y=Object(o.n)(),N=Object(h.b)(),k=function(){c(!a)},S=function(){l(!i)},P=function(){var e=Object(f.a)(Object(x.a)().mark((function e(t){var a,n,r,s,i,o;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.username,r=t.password,p(!0),e.prev=4,e.next=7,K.a.post("".concat("https://period-tracker-api.onrender.com","/register"),{email:a,username:n,password:r});case 7:return s=e.sent,e.next=10,s;case 10:if(!e.sent){e.next=19;break}return e.next=14,K.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:a,password:r});case 14:return i=e.sent,e.next=17,i;case 17:(o=e.sent)&&(N(c({user:o.data.user.username,email:o.data.user.email,token:o.data.accessToken,cycle:o.data.user.cycle,avgLength:o.data.avgLength,periodStartDate:o.data.user.periodStartDate,periodEndDate:o.data.user.periodEndDate,previousPeriod:o.data.user.previousPeriod,isBleeding:o.data.user.isBleeding,canBleed:o.data.user.canBleed,notification:o.data.user.notification})),y("/AccountSetup"));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),401===e.t0.response.status&&(D(e.t0.response.data.msg),p(!1));case 24:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"index-wrapper content",children:[Object(u.jsx)("div",{className:"index-background-img"}),Object(u.jsx)("h1",{children:"Welcome,"}),Object(u.jsx)("p",{children:"You can use this simple web application to track your menstrual cycle. More features are being added soon. Please note this application is still in the early stages, as a result, the accuracy of the tracking is still being tweaked, and pages might be a little slow to load."}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"login-button-container",children:[Object(u.jsxs)("span",{children:["Already have an account? ",Object(u.jsx)("button",{onClick:k,children:"Login here"})]}),Object(u.jsxs)("span",{className:"signup",children:["or you can",Object(u.jsx)("button",{onClick:S,children:"make one here"})]})]}),a&&Object(u.jsx)("div",{className:"page-fade",children:Object(u.jsx)(se,{onShow:k})}),i&&Object(u.jsx)("div",{className:"page-fade",children:Object(u.jsx)(O,{onShow:S,onSubmit:P,loading:b,setErr:function(e){D(e)},err:w})})]})},oe=a(95);var le=function(e){var t=Object(oe.b)(L.a);return console.log(e.event),Object(u.jsx)("div",{className:"profile-cal",children:Object(u.jsx)(oe.a,{localizer:t,events:e.event,startAccessor:e.start,endAccessor:e.end,views:"month"})})},de=a(17),ue=a(18),je=Object(de.a)((function e(t,a,n,c){Object(ue.a)(this,e),this.title=t,this.start=a,this.end=n,this.allDay=c})),be=function(){function e(){Object(ue.a)(this,e),this.events=[]}return Object(de.a)(e,[{key:"newEvent",value:function(e,t,a,n){this.events.push(new je(e,t,a,n))}},{key:"allEvents",get:function(){return this.events}}]),e}();var pe=function(e){return Object(u.jsx)("div",{className:"page-fade",children:e.content})},Oe=function(e){return Object(u.jsxs)("div",{className:"warning-box",children:[Object(u.jsx)("h1",{children:"Please enter your email adress to delete your account."}),Object(u.jsxs)("form",{onSubmit:e.deleteAccount,className:"delete-account",children:[Object(u.jsxs)("div",{className:"email-input",children:[Object(u.jsx)("input",{type:"email",value:e.deletedEmail,onChange:e.emailChange}),Object(u.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(u.jsx)("span",{className:"login-span",children:"Email"})})]}),Object(u.jsx)("button",{className:"button",type:"submit",children:"Delete"}),Object(u.jsx)("button",{className:"button",onClick:e.openDeleteBox,children:"Cancel"})]})]})};var he=function(e){var t=Object(n.useState)(),a=Object(v.a)(t,2),c=(a[0],a[1]),r=Object(n.useState)(),s=Object(v.a)(r,2),i=s[0],o=s[1];return Object(u.jsxs)("div",{className:"warning-box",children:[Object(u.jsx)("h1",{children:"Would you like to change your password?"}),Object(u.jsxs)("div",{className:"password-change",children:[Object(u.jsx)("span",{className:"warning",children:i}),Object(u.jsxs)("div",{className:"password-input",children:[Object(u.jsx)("input",{type:"password",value:e.oldPassword,onChange:e.oldPasswordChange}),Object(u.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Old Password",Object(u.jsx)("small",{children:"*"})]})})]}),Object(u.jsxs)("div",{className:"password-input",children:[Object(u.jsx)("input",{type:"password",value:e.newPassword,onChange:e.newPasswordChange}),Object(u.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["New Password",Object(u.jsx)("small",{children:"*"})]})})]}),Object(u.jsxs)("div",{className:"password-input",children:[Object(u.jsx)("input",{type:"password",value:e.confirmNewPassword,onChange:e.confirmPassword}),Object(u.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(u.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(u.jsx)("small",{children:"*"})]})})]}),Object(u.jsx)("button",{className:"button",type:"submit",onClick:function(){var t=p(e.newPassword,e.confirmNewPassword);t.isvaild?(c(!0),e.ChangePassword()):o(t.msg)},children:"Submit"})]}),Object(u.jsx)("button",{className:"text-button",onClick:e.close,children:"Go back"})]})},me=a(124),xe=a.n(me);a(150);var fe=function(e){var t=Object(h.b)(),a=Object(h.c)((function(e){return e.notification})),c=Object(h.c)((function(e){return e.email})),r=Object(h.c)((function(e){return e.token})),s=Object(n.useState)(""),i=Object(v.a)(s,2),o=(i[0],i[1],Object(n.useState)("")),l=Object(v.a)(o,2),d=l[0],j=l[1],b=e.close,p=Object(n.useRef)();Object(n.useEffect)((function(){p.current=d}),[d]);var O=function(){var e=Object(f.a)(Object(x.a)().mark((function e(){var n,s,i;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return!1,null,e.next=5,K.a.post("".concat("https://period-tracker-api.onrender.com","/user/setnotificationstatus"),{email:c,status:false,number:null},{headers:{Authorization:"Bearer ".concat(r)}});case 5:n=e.sent,t(E({notification:n.data.notification})),b(),e.next=18;break;case 10:if(a){e.next=18;break}return!0,s=d,e.next=15,K.a.post("".concat("https://period-tracker-api.onrender.com","/user/setnotificationstatus"),{email:c,status:true,number:s},{headers:{Authorization:"Bearer ".concat(r)}});case 15:i=e.sent,t(E({notification:i.data.notification})),b();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"warning-box",children:[a&&Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("h1",{children:"Would you like to stop notifications?"}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("button",{className:"button",onClick:O,children:"Yes"}),Object(u.jsx)("button",{className:"button",onClick:e.close,children:"No"})]})]}),!a&&Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("h1",{children:"Would you like to receive text notification?"}),Object(u.jsxs)("div",{className:"button-container",children:[Object(u.jsx)("div",{className:"toggle-on",children:Object(u.jsx)(xe.a,{onChange:function(e){j(e),console.log(d)},country:"us",value:d})}),Object(u.jsx)("button",{className:"button",type:"submit",onClick:O,children:"Submit"}),Object(u.jsx)("button",{className:"text-button",onClick:e.close,children:"Go Back"})]})]})]})};var ve=function(e){return Object(u.jsx)("div",{className:"warning-box",children:Object(u.jsxs)("div",{className:"inner-account-settings",children:[Object(u.jsx)("div",{className:"setting-option",children:Object(u.jsx)("button",{onClick:e.openPassword,children:"Password Change"})}),Object(u.jsx)("div",{className:"setting-option",children:Object(u.jsx)("button",{onClick:e.openNotication,children:"Toggle Notication"})}),Object(u.jsx)("div",{className:"setting-option",children:Object(u.jsx)("button",{onClick:e.openDeleteBox,children:"Delete Account"})}),Object(u.jsx)("button",{className:"text-button",onClick:e.close,children:"Go Back"})]})})},ge=function(){var e=Object(o.n)(),t=Object(h.b)(),a=Object(h.c)((function(e){return e.user})),c=Object(h.c)((function(e){return e.periodEndDate})),r=Object(h.c)((function(e){return e.periodStartDate})),s=Object(h.c)((function(e){return e.token})),i=Object(h.c)((function(e){return e.email})),l=Object(h.c)((function(e){return e.previousPeriod})),d=Object(n.useState)(!1),j=Object(v.a)(d,2),b=j[0],O=j[1],m=Object(n.useState)(!1),g=Object(v.a)(m,2),w=g[0],D=g[1],y=Object(n.useState)(!1),k=Object(v.a)(y,2),S=k[0],P=k[1],B=Object(n.useState)(!1),C=Object(v.a)(B,2),Y=C[0],E=C[1],M=Object(n.useState)(""),A=Object(v.a)(M,2),F=A[0],V=A[1],z=Object(n.useState)(""),q=Object(v.a)(z,2),T=q[0],I=q[1],W=Object(n.useState)(""),G=Object(v.a)(W,2),U=G[0],J=G[1],$=Object(n.useState)(""),_=Object(v.a)($,2),Q=_[0],X=_[1],Z=Object(n.useState)(""),ee=Object(v.a)(Z,2),te=(ee[0],ee[1]),ae=Object(h.c)((function(e){return e.notification}));console.log(ae);var ne=new be,ce=Object(n.useState)(ne.allEvents),re=Object(v.a)(ce,2),se=re[0],ie=(re[1],function(){var e=Object(f.a)(Object(x.a)().mark((function e(){var t,a,n,s,i;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==se.length){for(t in l)a=L()(l[t].startDate),n=L()(l[t].endDate),ne.newEvent("Period Active",a,n,!0);r&&c&&(s=L()(r),i=L()(c),ne.newEvent("Period Active",s,i,!0))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),oe=function(){O(!b)},de=function(){E(!Y)},ue=function(){D(!w)},je=function(){P(!S)};return Object(n.useEffect)((function(){ie()}),[]),Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("section",{className:"profile content",children:[Object(u.jsxs)("h1",{className:"welcome-text",children:["Hello ",a,","]}),Object(u.jsxs)("div",{className:"calander",children:[Object(u.jsx)("h2",{children:"Here is how you month looks"}),Object(u.jsx)(le,{event:se})]}),Object(u.jsxs)("div",{className:"account-settings",children:[Object(u.jsx)("button",{onClick:oe,children:"Settings"}),b&&Object(u.jsx)(pe,{content:Object(u.jsx)(ve,{openPassword:je,openNotication:de,openDeleteBox:ue,close:oe})})]}),w&&Object(u.jsx)(pe,{content:Object(u.jsx)(Oe,{deleteAccount:function(){F===i&&(K.a.post("".concat("https://period-tracker-api.onrender.com","/auth/deleteuser"),{email:i},{headers:{Authorization:"Bearer ".concat(s)}}),t(N()),e("/"))},deletedEmail:F,emailChange:function(e){V(e.target.value),console.log(e.target.value)},openDeleteBox:ue})}),Y&&Object(u.jsx)(pe,{content:Object(u.jsx)(fe,{close:de})}),S&&Object(u.jsx)(pe,{content:Object(u.jsx)(he,{changePassword:function(){var e=p(U,Q);e.isvaild?K.a.post("".concat("https://period-tracker-api.onrender.com","/auth/changepassword"),{email:i,oldPassword:T,newPassword:U},{headers:{Authorization:"Bearer ".concat(s)}}):te(e.msg)},oldPassword:T,oldPasswordChange:function(e){I(e.target.value)},newPassword:U,newPasswordChange:function(e){J(e.target.value)},confirmNewPassword:Q,confirmPassword:function(e){X(e.target.value)},close:je})})]}),Object(u.jsx)(H,{})]})},we=a(78);var De=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.token})),a=Object(h.c)((function(e){return e.email})),c=Object(h.c)((function(e){return e.previousPeriod})),r=Object(n.useState)(),s=Object(v.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(),d=Object(v.a)(l,2),j=d[0],b=d[1],p=Object(n.useState)(),O=Object(v.a)(p,2),m=O[0],g=O[1],w=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),D=Object(v.a)(w,2),y=D[0],N=D[1],S=function(){var n=Object(f.a)(Object(x.a)().mark((function n(){var c;return Object(x.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i){n.next=4;break}b("Please select a date"),n.next=8;break;case 4:return n.next=6,K.a.post("".concat("https://period-tracker-api.onrender.com","/user/removePeriod"),{email:a,removeDate:i},{headers:{Authorization:"Bearer ".concat(t)}});case 6:201===(c=n.sent).status&&(e(k({previousPeriod:c.data.previousPeriod})),b(c.data.message));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),P=function(t){e(k({previousPeriod:t}))},B=function(){var e=Object(f.a)(Object(x.a)().mark((function e(){var n,r;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:a,userInfo:c},{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n;case 5:r=e.sent,g("".concat(r.data.message,"!"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=L()(e[0].startDate).format(),a=L()(e[0].endDate).format();if(0!=c.length){var n=c.map((function(e){return e})),r={startDate:t,endDate:a,count:c.length};n.push(r),P(n)}else P([{startDate:t,endDate:a,count:0}])}}(y)}),[y]),Object(u.jsxs)("div",{className:"page-wrapper",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("section",{className:"info content",children:[Object(u.jsxs)("div",{className:"logging-period",children:[Object(u.jsx)("h1",{children:"Do you have any more period(s) to log?"}),Object(u.jsx)("span",{className:"message",children:m}),Object(u.jsx)(we.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return N([e.selection])},moveRangeOnFirstSelection:!1,ranges:y}),Object(u.jsx)("button",{className:"button",onClick:B,children:"Add"})]}),Object(u.jsxs)("div",{className:"remove-period",children:[Object(u.jsx)("span",{className:"message",children:j}),Object(u.jsx)("h2",{children:"Or would you like to remove some?"}),Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("label",{htmlFor:"periods",children:"Select a period to remove:"}),Object(u.jsxs)("select",{name:"periods",className:"periods",onChange:function(e){o(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,selected:!0,children:"Select a date"}),c.map((function(e,t){return Object(u.jsx)("option",{value:t,children:"".concat(L()(e.startDate).format("MMMM Do YYYY")," - ").concat(L()(e.endDate).format("MMMM Do YYYY"))},e+t)}))]})]}),Object(u.jsx)("button",{className:"button",onClick:S,children:"Remove"})]})]}),Object(u.jsx)(H,{})]})};var ye=function(){var e=Object(o.n)(),t=Object(h.b)(),a=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),c=Object(v.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),l=Object(v.a)(i,2),d=l[0],b=l[1],p=Object(h.c)((function(e){return e.previousPeriod})),O=Object(h.c)((function(e){return e.email})),m=Object(h.c)((function(e){return e.token})),g=function(e){t(k({previousPeriod:e}))};Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=L()(e[0].startDate).format(),a=L()(e[0].endDate).format();if(0!=p.length){var n=p.map((function(e){return e})),c={startDate:t,endDate:a,count:p.length};n.push(c),g(n)}else g([{startDate:t,endDate:a,count:0}])}}(r)}),[r]);var w=function(){var t=Object(f.a)(Object(x.a)().mark((function t(){return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.prev=1,t.next=4,K.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:O,userInfo:p},{headers:{Authorization:"Bearer ".concat(m)}});case 4:t.sent&&e("/Home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return d?Object(u.jsx)(j,{}):Object(u.jsxs)("section",{className:"setup-wrapper",children:[Object(u.jsx)("h1",{children:"When was your last few periods?"}),Object(u.jsx)("p",{children:"Just select them below, and once your done hit next. Please try to make them as close as you can."}),Object(u.jsx)(we.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return s([e.selection])},moveRangeOnFirstSelection:!1,ranges:r}),Object(u.jsx)("button",{type:"submit",className:"nextButton",onClick:w,children:"Next"})]})},Ne=function(){Object(h.c)((function(e){return e.periodEndDate})),Object(h.c)((function(e){return e.periodStartDate}));return Object(u.jsx)(j,{})};var ke=function(){var e=Boolean(Object(h.c)((function(e){return e.token})));return Object(h.c)((function(e){return e.previousPeriod})),Object(u.jsx)(i.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/accountsetup",element:Object(u.jsx)(ye,{})}),Object(u.jsx)(o.b,{path:"/signup",element:Object(u.jsx)(O,{})}),Object(u.jsx)(o.b,{path:"/",element:Object(u.jsx)(ie,{})}),Object(u.jsx)(o.b,{path:"/profile",element:e?Object(u.jsx)(ge,{}):Object(u.jsx)(o.a,{to:"/"})}),Object(u.jsx)(o.b,{path:"/periodinfo",element:e?Object(u.jsx)(De,{}):Object(u.jsx)(o.a,{to:"/"})}),Object(u.jsx)(o.b,{path:"/home",element:e?Object(u.jsx)(re,{}):Object(u.jsx)(o.a,{to:"/"})}),Object(u.jsx)(o.b,{path:"/Test1",element:Object(u.jsx)(Ne,{})})]})})},Se=a(40),Pe=a(125),Be=a.n(Pe),Ce=a(126),Ye={key:"root",storage:Be.a,version:1},Ee=Object(Se.g)(Ye,M),Me=Object(g.a)({reducer:Ee,middleware:function(e){return e({serializableCheck:{ignoredActions:[Se.a,Se.f,Se.b,Se.c,Se.d,Se.e]}})}});s.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(h.a,{store:Me,children:Object(u.jsx)(Ce.a,{loading:null,persistor:Object(Se.h)(Me),children:Object(u.jsx)(ke,{})})})}))}},[[168,1,2]]]);
//# sourceMappingURL=main.d2af95ed.chunk.js.map