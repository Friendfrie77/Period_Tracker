(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{133:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(109),s=a.n(r),i=(a(133),a(31)),o=a(10),l=a(13),d=a(9),u=a(14),j=a(5),b=a(36),p=a(174),O=a(69),h=Object(O.b)({name:"auth",initialState:{user:null,email:null,token:null,cycle:null,avgLength:null,periodStartDate:null,periodEndDate:null,daysTillPeriod:null,canBleed:!1,isBleeding:!1,daysleft:null,previousPeriod:[{startDate:null,endDate:null,count:null}],notification:!1},reducers:{setLogin:function(e,t){e.user=t.payload.user,e.email=t.payload.email,e.token=t.payload.token,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.daysTillPeriod=t.payload.cycle,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod,e.notification=t.payload.notification},setLogout:function(e){e.user=null,e.token=null,e.cycle=null,e.daysTillPeriod=null,e.periodStartDate=null,e.periodEndDate=null,e.daysTillPeriod=null,e.canBleed=!1,e.isBleeding=!1,e.previousPeriod=null,e.notification=!1},setPeriod:function(e,t){e.previousPeriod=t.payload.previousPeriod},setCycle:function(e,t){e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength},setNewPeriod:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate},setUserInfo:function(e,t){e.periodStartDate=t.payload.periodStartDate,e.periodEndDate=t.payload.periodEndDate,e.cycle=t.payload.cycle,e.avgLength=t.payload.avgLength,e.canBleed=t.payload.canBleed,e.isBleeding=t.payload.isBleeding,e.previousPeriod=t.payload.previousPeriod},setCanBleed:function(e,t){e.canBleed=t.payload.canBleed},setIsBleeding:function(e,t){e.isBleeding=t.payload.isBleeding},setDays:function(e,t){e.daysleft=t.payload.daysleft},setNotificationStatus:function(e,t){e.notification=t.payload.notification}}}),m=h.actions,x=m.setLogin,f=m.setLogout,v=m.setPeriod,g=m.setCycle,D=m.setNewPeriod,w=m.setUserInfo,y=m.setIsBleeding,N=m.setCanBleed,k=(m.setDays,m.setNotificationStatus),S=h.reducer,P=a(12),B=a(2),C=function(){return Object(B.jsx)("div",{className:"loading",children:Object(B.jsx)("div",{className:"spinner"})})},Y=a(75);function E(e){var t=Object(o.n)(),a=Object(P.b)(),c=Object(n.useState)(),r=Object(j.a)(c,2),s=(r[0],r[1]),i=Object(n.useState)(!1),O=Object(j.a)(i,2),h=O[0],m=O[1],f=function(){var e=Object(u.a)(Object(d.a)().mark((function e(n){var c,r,i,o,l,u;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.email,r=n.username,i=n.password,m(!0),e.prev=4,e.next=7,p.a.post("".concat("https://period-tracker-api.onrender.com","/register"),{email:c,username:r,password:i});case 7:return o=e.sent,e.next=10,o;case 10:if(!e.sent){e.next=19;break}return e.next=14,p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:c,password:i});case 14:return l=e.sent,e.next=17,l;case 17:(u=e.sent)&&(a(x({user:u.data.user.username,email:u.data.user.email,token:u.data.accessToken,cycle:u.data.user.cycle,avgLength:u.data.avgLength,periodStartDate:u.data.user.periodStartDate,periodEndDate:u.data.user.periodEndDate,previousPeriod:u.data.user.previousPeriod,isBleeding:u.data.user.isBleeding,canBleed:u.data.user.canBleed,notification:u.data.user.notification})),t("/AccountSetup"));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),s(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t){return e.apply(this,arguments)}}();return h?Object(B.jsx)(C,{}):Object(B.jsxs)("section",{className:"login-wrapper",children:[Object(B.jsx)(Y.a,{onClick:e.onShow,className:"exit-button"}),Object(B.jsx)(b.b,{onSubmit:f,validate:function(e){var t={};return e.email||(t.email="Required"),e.username||(t.username="Required"),e.password||(t.password="Required"),e.passwordconfirm?e.password!==e.passwordconfirm&&(t.passwordconfirm="Must match"):t.passwordconfirm="Required",t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(B.jsxs)("form",{onSubmit:t,children:[Object(B.jsx)("h1",{children:"Sign Up"}),Object(B.jsx)(b.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"email-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(B.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Email",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{name:"username",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"username-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"text",required:!0})),Object(B.jsx)("label",{htmlFor:"username",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Username",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{type:"password",name:"password",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Password",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{type:"password",name:"passwordconfirm",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(B.jsx)("label",{htmlFor:"passwordconfirm",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}})]})}var M=a(26),A=a(15),L=a.n(A),F=a(112),V=(a.p,a.p+"static/media/logo2.18d8e11e.svg"),R=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.cycle})),a=Object(P.c)((function(e){return e.avgLength})),n=Object(P.c)((function(e){return e.previousPeriod}));return Object(B.jsxs)("nav",{className:"nav",children:[Object(B.jsx)("div",{className:"logo",children:Object(B.jsx)("img",{src:V,height:"50px",width:"50px"})}),Object(B.jsx)("input",{id:"mobile-nav-toggle",type:"checkbox"}),Object(B.jsx)("label",{className:"mobile-nav-container",htmlFor:"mobile-nav-toggle",children:Object(B.jsx)("div",{className:"mobile-nav",id:"mobile-nav"})}),Object(B.jsxs)("ul",{className:"nav-links",id:"nav-links",children:[Object(B.jsxs)("li",{className:"stats",children:[Object(B.jsx)("h3",{children:"Information at a Glance"}),Object(B.jsxs)("span",{children:["Cycle Lenght: ",t," days"]}),Object(B.jsx)("br",{}),Object(B.jsxs)("span",{children:["Average Length: ",a," days "]}),Object(B.jsx)("br",{}),Object(B.jsxs)("span",{children:["Periods Logged: ",n.length]})]}),Object(B.jsx)("li",{className:"nav-item",children:Object(B.jsx)(i.b,{to:"/home",children:"Home"})}),Object(B.jsx)("li",{className:"nav-item",children:Object(B.jsx)(i.b,{to:"/profile",children:"Profile"})}),Object(B.jsx)("li",{className:"nav-item",children:Object(B.jsx)(i.b,{to:"/periodinfo",children:"Period Info"})}),Object(B.jsx)("li",{className:"logout",children:Object(B.jsx)("button",{onClick:function(){e(f())},children:Object(B.jsx)(F.a,{})})})]})]})},z=a(76),T=function(e,t){return Object(B.jsx)("div",{className:"countdown-wrapper",children:Object(B.jsx)("div",{className:"days-left",children:Object(B.jsxs)("span",{children:[t,"\xa0",e]})})})},q=function(e){var t=Object(n.useReducer)((function(e){return e+1}),0),a=Object(j.a)(t,2),c=(a[0],a[1],86400),r=L()(e.startDate).format("YYYY-MM-DD"),s=L()(e.endDate).format("YYYY-MM-DD"),i=Date.now()/1e3,o=new Date(r).getTime()/1e3,d=new Date(s).getTime()/1e3,u=d-o,b=d-i,p=u/2,O=u/4;return Object(B.jsx)("div",{className:"countdown-timer",children:Object(B.jsx)(z.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:[e.color1,e.color2,e.color3,e.color3],colorsTime:[u,p,O,0],duration:u,initialRemainingTime:b,children:function(e){e.elapsedTime;var t,a=e.color;return Object(B.jsx)("span",{style:{color:a},children:T("days",(t=u-(u-b),Math.ceil(t/c)))})}}))})},I=a(113);var W=function(e){var t=Object(n.useState)({startValue:Date.parse(e.startValue),endValue:new Date(e.endValue),rangeDates:[]}),a=Object(j.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){r({startValue:Date.parse(e.startValue),endValue:new Date(e.endValue)})}),[e.startValue,e.endValue]),Object(B.jsx)("div",{className:"horizontal-date-picker",children:Object(B.jsx)(I.Datepicker,{startValue:c.startValue,endValue:c.endValue})})},H=function(){var e=(new Date).getFullYear();return Object(B.jsx)("footer",{children:Object(B.jsxs)("span",{children:["\xa9 ",e," ",Object(B.jsx)("a",{href:"albertfriend.dev",target:"_blank",children:"Albert Friend"})]})})},G=function(e){return Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(R,{}),Object(B.jsxs)("section",{className:"home content",children:[Object(B.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(B.jsx)(W,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Your next period is in "}),Object(B.jsx)(q,{startDate:e.startDate,endDate:e.endDate,color1:"#40bf32",color2:"#e0e20c",color3:"#FA2C00"})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(B.jsx)("button",{name:"check-period",className:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(B.jsx)(H,{})]})},U=function(e){var t=Object(n.useReducer)((function(e){return e+1}),0),a=Object(j.a)(t,2),c=(a[0],a[1]);return Object(n.useEffect)((function(){c()}),[e.startDate,e.endDate,e.periodStartDate,e.periodEndDate]),Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(R,{}),Object(B.jsxs)("section",{className:"home",children:[Object(B.jsxs)("h1",{className:"welcome-text",children:["Welcome back, ",e.userName]}),Object(B.jsx)(W,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Your period should be over in"}),Object(B.jsx)(q,{startDate:e.startDate,endDate:e.endDate,color1:"#40bf32",color2:"#e0e20c",color3:"#FA2C00"})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period ended?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(B.jsx)(H,{})]})},J=function(e){return Object(B.jsx)("div",{className:"countdown-timer",children:Object(B.jsx)(z.a,Object(l.a)(Object(l.a)({},{isPlaying:!0,size:500,strokeWidth:10}),{},{colors:"#EAE8FF",children:function(t){var a=t.color;return Object(B.jsx)("span",{style:{color:a},children:(e.message,Object(B.jsx)("div",{className:"countdown-wrapper",children:Object(B.jsx)("div",{className:"days-left",children:Object(B.jsx)("span",{children:e.message})})}))})}}))})},_=function(e){return Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(R,{}),Object(B.jsxs)("section",{className:"home content",children:[Object(B.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(B.jsx)(W,{startValue:e.periodStartDate,endValue:e.periodEndDate}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Your period might be here"}),Object(B.jsxs)("div",{className:"inner-circle",children:[Object(B.jsx)(J,{startDate:e.startDate,endDate:e.endDate}),Object(B.jsx)("span",{children:"Today"})]})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(B.jsx)(H,{})]})},K=function(e){return Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(R,{}),Object(B.jsxs)("section",{className:"home content",children:[Object(B.jsxs)("h1",{children:["Welcome back, ",e.userName]}),Object(B.jsxs)("div",{className:"period-countdown",children:[Object(B.jsx)("h2",{children:"Error"}),Object(B.jsx)(J,{message:e.message})]}),Object(B.jsxs)("div",{className:"check-period",children:[Object(B.jsx)("label",{htmlFor:"check-period",children:"Has your period started?"}),Object(B.jsx)("button",{name:"check-period",type:"button",onClick:e.onClick,children:"Yes"})]})]}),Object(B.jsx)(H,{})]})},Q=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a,n,c){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.post("".concat("https://period-tracker-api.onrender.com","/user/setperiodinfo"),{email:t,isBleeding:a,canBleed:n},{headers:{Authorization:"Bearer ".concat(c)}});case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a,n,c){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/updateperiod"),{email:t,periodStartDate:a,periodEndDate:n},{headers:{Authorization:"Bearer ".concat(c)}}),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/nullperioddates"),{email:t},{headers:{Authorization:"Bearer ".concat(a)}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a,n,c,r,s){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.post("".concat("https://period-tracker-api.onrender.com","/user/addperiod"),{email:t,startDate:a,endDate:n,cycle:c,avgLength:r},{headers:{Authorization:"Bearer ".concat(s)}});case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r,s){return e.apply(this,arguments)}}();function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(Object(d.a)().mark((function e(t,a){var n,c,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.post("".concat("https://period-tracker-api.onrender.com","/user/getuserinfo"),{email:t},{headers:{Authorization:"Bearer ".concat(a)}}),e.next=3,n;case 3:if(!(c=e.sent)){e.next=9;break}return r={periodStartDate:c.data.user.periodStartDate,avgLength:c.data.user.avgLength,cycle:c.data.user.cycle,periodEndDate:c.data.user.periodEndDate,previousPeriod:c.data.user.previousPeriod,canBleed:c.data.user.canBleed,isBleeding:c.data.user.isBleeding},e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){var t=0,a=0,n=null,c=0,r=e.length;return 1!==r&&(e.forEach((function(e){if(t+=L()(e.endDate).diff(e.startDate,"days"),null!=n){var r=L()(n).diff(e.startDate,"month",!0);Math.abs(r)<1.5&&(a+=Math.abs(L()(e.startDate).diff(n,"days")),c+=1)}else n=L()(e.startDate)})),{avgLength:Math.round(t/r),cycle:Math.round(a/c)})}function ne(e,t,a,n,c){var r,s,i=null,o=new Date;if(o=L()(o).format(),e&&t||!a||!n||!c)return!1;a.forEach((function(e){(null===i||i<e.startDate)&&(i=e.startDate)}));var l=L()(o).diff(i,"month");if(n&&c)if(l>1){var d=L()(i).add(l,"months");r=L()(d).add(n,"days"),s=L()(d).add(c,"days")}else i=L()(i).format(),r=L()(i).add(n,"days"),s=L()(r).add(c,"days");return{startDate:r,endDate:s}}var ce=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.cycle})),a=Object(P.c)((function(e){return e.user})),c=Object(P.c)((function(e){return e.previousPeriod})),r=Object(P.c)((function(e){return e.periodEndDate})),s=Object(P.c)((function(e){return e.periodStartDate})),i=Object(P.c)((function(e){return e.avgLength})),o=Object(P.c)((function(e){return e.token})),l=Object(P.c)((function(e){return e.email})),b=Object(n.useState)(Object(P.c)((function(e){return e.isBleeding}))),p=Object(j.a)(b,2),O=p[0],h=p[1],m=Object(P.c)((function(e){return e.canBleed})),x=Object(n.useState)(!0),f=Object(j.a)(x,2),k=f[0],S=f[1],C=Object(n.useReducer)((function(e){return e+1}),0),Y=Object(j.a)(C,2),E=(Y[0],Y[1],new Date);E=L()(E).format("YYYY-MM-DD");var A=L()(s).subtract(t,"days"),F=function(){var t=Object(u.a)(Object(d.a)().mark((function t(){var a,n,i,u,j,b,p;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(l,o);case 2:return a=t.sent,e(w({periodStartDate:a.periodStartDate,periodEndDate:a.periodEndDate,canBleed:a.canBleed,isBleeding:a.isBleeding,previousPeriod:a.previousPeriod})),t.next=6,ae(c);case 6:return(n=t.sent)&&(i=n.cycle,u=n.avgLength,e(g({cycle:i,avgLength:u}))),t.next=10,ne(s,r,c,n.cycle,n.avgLength);case 10:if(!(j=t.sent)){t.next=19;break}if(b=L()(j.startDate).format("YYYY-MM-DD"),p=L()(j.endDate).format("YYYY-MM-DD"),e(D({periodStartDate:b,periodEndDate:p})),!b||!p){t.next=19;break}return t.next=18,$(l,j.startDate,j.endDate,n.cycle,n.avgLength,o);case 18:t.sent;case 19:S(!1),(L()(s).format("YYYY-MM-DD")==E||L()(s).format("YYYY-MM-DD")<E&&!O)&&e(N({canBleed:!0}));case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(u.a)(Object(d.a)().mark((function t(){var a,n,c,u,j;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L()(s).format("YYYY-MM-DD")==E){t.next=11;break}return a=L()(E).add(i,"days").format("YYYY-MM-DD"),n=X(l,E,a,o),t.next=5,n;case 5:c=t.sent,e(N({canBleed:c.data.canBleed})),e(y({isBleeding:c.data.isBleeding})),h(!0),t.next=18;break;case 11:return u=X(l,s,r,o),t.next=14,u;case 14:j=t.sent,e(N({canBleed:j.data.canBleed})),e(y({isBleeding:j.data.isBleeding})),h(!0);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r!=E?(e(v({previousPeriod:[].concat(Object(M.a)(c),[{startDate:s,endDate:E}])})),e(y({isBleeding:!1}))):(e(v({previousPeriod:[].concat(Object(M.a)(c),[{startDate:s,endDate:r}])})),e(y({isBleeding:!1}))),Q(l,!1,m,o),Z(l,o),h(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){F()}),[O,s]);return function(e,n,c){return e||n||c?n?Object(B.jsx)(_,{userName:a,onClick:V,endDate:s,startDate:E,startValue:s,endValue:r}):c?Object(B.jsx)(K,{userName:a,onClick:null,message:"More logs are required"}):Object(B.jsx)(U,{userName:a,onClick:R,endDate:r,startDate:s,periodStartDate:s,periodEndDate:r}):Object(B.jsx)(G,{cycle:t,userName:a,endDate:s,startDate:A,onClick:V,periodStartDate:s,periodEndDate:r})}(O,m,k)};var re=function(e){var t=Object(o.n)(),a=Object(P.b)(),c=Object(n.useState)(!1),r=Object(j.a)(c,2),s=r[0],i=r[1],O=Object(n.useState)(),h=Object(j.a)(O,2),m=h[0],f=h[1],v=Object(n.useState)(""),g=Object(j.a)(v,2);function D(){return(D=Object(u.a)(Object(d.a)().mark((function e(n){var c,r,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),c=n.email,r=n.password,e.next=5,p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/login"),{email:c,password:r}).catch((function(e){e.response&&(f(e.response.data.error),console.log(e.response.data.error)),i(!1)}));case 5:return s=e.sent,e.next=8,s;case 8:(o=e.sent)&&(a(x({user:o.data.user.username,email:o.data.user.email,token:o.data.accessToken,cycle:o.data.user.cycle,avgLength:o.data.avgLength,periodStartDate:o.data.user.periodStartDate,periodEndDate:o.data.user.periodEndDate,previousPeriod:o.data.user.previousPeriod,isBleeding:o.data.user.isBleeding,canBleed:o.data.user.canBleed,notification:o.data.user.notification})),t("/home"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g[0],g[1];var w=s?Object(B.jsx)(C,{}):Object(B.jsxs)("section",{className:"login-wrapper",children:[Object(B.jsx)(Y.a,{onClick:e.onShow,className:"exit-button"}),Object(B.jsx)(b.b,{onSubmit:function(e){return D.apply(this,arguments)},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit,a=(e.form,e.submitting);e.pristine,e.values;return Object(B.jsxs)("form",{onSubmit:t,children:[Object(B.jsx)("h1",{children:"Sign In"}),Object(B.jsx)("span",{className:"message",children:m}),Object(B.jsx)(b.a,{name:"email",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"email-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"email",required:!0})),Object(B.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Email",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsx)(b.a,{name:"password",children:function(e){var t=e.input,a=e.meta;return Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:"password",required:!0})),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Password",Object(B.jsx)("small",{children:"*"})]})}),a.error&&a.touched&&Object(B.jsx)("span",{className:"error",children:a.error})]})}}),Object(B.jsxs)("div",{className:"remember-me",children:[Object(B.jsx)("input",{type:"checkbox",id:"remember",name:"chkbox"}),Object(B.jsx)("label",{htmlFor:"chkbox",children:"Remember Me"})]}),Object(B.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})}})]});return w};var se=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(j.a)(r,2),i=s[0],o=s[1],l=function(){c(!a)},d=function(){o(!i)};return Object(B.jsxs)("section",{className:"index-wrapper content",children:[Object(B.jsx)("div",{className:"index-background-img"}),Object(B.jsx)("h1",{children:"Welcome,"}),Object(B.jsx)("p",{children:"You can use this simple web application to track your menstrual cycle. More features are being added soon. Please note this application is still in the early stages, as a result, the accuracy of the tracking is still being tweaked, and pages might be a little slow to load."}),Object(B.jsx)("hr",{}),Object(B.jsxs)("div",{className:"login-button-container",children:[Object(B.jsxs)("span",{children:["Already have an account? ",Object(B.jsx)("button",{onClick:l,children:"Login here"})]}),Object(B.jsxs)("span",{className:"signup",children:["or you can",Object(B.jsx)("button",{onClick:d,children:"make one here"})]})]}),a&&Object(B.jsx)("div",{className:"page-fade",children:Object(B.jsx)(re,{onShow:l})}),i&&Object(B.jsx)("div",{className:"page-fade",children:Object(B.jsx)(E,{onShow:d})})]})},ie=a(95);var oe=function(e){var t=Object(ie.b)(L.a);return console.log(e.event),Object(B.jsx)("div",{className:"profile-cal",children:Object(B.jsx)(ie.a,{localizer:t,events:e.event,startAccessor:e.start,endAccessor:e.end,views:"month"})})},le=a(18),de=a(17),ue=Object(le.a)((function e(t,a,n,c){Object(de.a)(this,e),this.title=t,this.start=a,this.end=n,this.allDay=c})),je=function(){function e(){Object(de.a)(this,e),this.events=[]}return Object(le.a)(e,[{key:"newEvent",value:function(e,t,a,n){this.events.push(new ue(e,t,a,n))}},{key:"allEvents",get:function(){return this.events}}]),e}();var be=function(e){return Object(B.jsx)("div",{className:"page-fade",children:e.content})},pe=function(e){return Object(B.jsxs)("div",{className:"warning-box",children:[Object(B.jsx)("h1",{children:"Please enter your email adress to delete your account."}),Object(B.jsxs)("form",{onSubmit:e.deleteAccount,className:"delete-account",children:[Object(B.jsxs)("div",{className:"email-input",children:[Object(B.jsx)("input",{type:"email",value:e.deletedEmail,onChange:e.emailChange}),Object(B.jsx)("label",{htmlFor:"email",className:"login-lable",children:Object(B.jsx)("span",{className:"login-span",children:"Email"})})]}),Object(B.jsx)("button",{className:"button",type:"submit",children:"Delete"}),Object(B.jsx)("button",{className:"button",onClick:e.openDeleteBox,children:"Cancel"})]})]})};var Oe=function(e){return Object(B.jsxs)("div",{className:"warning-box",children:[Object(B.jsx)("h1",{children:"Would you like to change your password?"}),Object(B.jsxs)("form",{className:"password-change",onSubmit:e.changePassword,children:[Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",{type:"password",value:e.oldPassword,onChange:e.oldPasswordChange}),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Old Password",Object(B.jsx)("small",{children:"*"})]})})]}),Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",{type:"password",value:e.newPassword,onChange:e.newPasswordChange}),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["New Password",Object(B.jsx)("small",{children:"*"})]})})]}),Object(B.jsxs)("div",{className:"password-input",children:[Object(B.jsx)("input",{type:"password",value:e.confirmNewPassword,onChange:e.confirmPassword}),Object(B.jsx)("label",{htmlFor:"password",className:"login-lable",children:Object(B.jsxs)("span",{className:"login-span",children:["Confirm Password",Object(B.jsx)("small",{children:"*"})]})})]}),Object(B.jsx)("button",{className:"button",type:"submit",children:"Submit"})]}),Object(B.jsx)("button",{className:"text-button",onClick:e.close,children:"Go back"})]})},he=a(124),me=a.n(he);a(150);var xe=function(e){var t=Object(P.b)(),a=Object(P.c)((function(e){return e.notification})),c=Object(P.c)((function(e){return e.email})),r=Object(P.c)((function(e){return e.token})),s=Object(n.useState)(""),i=Object(j.a)(s,2),o=(i[0],i[1],Object(n.useState)("")),l=Object(j.a)(o,2),b=l[0],O=l[1],h=e.close,m=Object(n.useRef)();Object(n.useEffect)((function(){m.current=b}),[b]);var x=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var n,s,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return!1,null,e.next=5,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/setnotificationstatus"),{email:c,status:false,number:null},{headers:{Authorization:"Bearer ".concat(r)}});case 5:n=e.sent,t(k({notification:n.data.notification})),h(),e.next=18;break;case 10:if(a){e.next=18;break}return!0,s=b,e.next=15,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/setnotificationstatus"),{email:c,status:true,number:s},{headers:{Authorization:"Bearer ".concat(r)}});case 15:i=e.sent,t(k({notification:i.data.notification})),h();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"warning-box",children:[a&&Object(B.jsxs)("div",{className:"notification",children:[Object(B.jsx)("h1",{children:"Would you like to stop notifications?"}),Object(B.jsxs)("div",{className:"button-container",children:[Object(B.jsx)("button",{className:"button",onClick:x,children:"Yes"}),Object(B.jsx)("button",{className:"button",onClick:e.close,children:"No"})]})]}),!a&&Object(B.jsxs)("div",{className:"notification",children:[Object(B.jsx)("h1",{children:"Would you like to receive text notification?"}),Object(B.jsxs)("div",{className:"button-container",children:[Object(B.jsx)("div",{className:"toggle-on",children:Object(B.jsx)(me.a,{onChange:function(e){O(e),console.log(b)},country:"us",value:b})}),Object(B.jsx)("button",{className:"button",type:"submit",onClick:x,children:"Submit"}),Object(B.jsx)("button",{className:"text-button",onClick:e.close,children:"Go Back"})]})]})]})};var fe=function(e){return Object(B.jsx)("div",{className:"warning-box",children:Object(B.jsxs)("div",{className:"inner-account-settings",children:[Object(B.jsx)("div",{className:"setting-option",children:Object(B.jsx)("button",{onClick:e.openPassword,children:"Password Change"})}),Object(B.jsx)("div",{className:"setting-option",children:Object(B.jsx)("button",{onClick:e.openNotication,children:"Toggle Notication"})}),Object(B.jsx)("div",{className:"setting-option",children:Object(B.jsx)("button",{onClick:e.openDeleteBox,children:"Delete Account"})}),Object(B.jsx)("button",{className:"text-button",onClick:e.close,children:"Go Back"})]})})},ve=function(){var e=Object(o.n)(),t=Object(P.b)(),a=Object(P.c)((function(e){return e.user})),c=Object(P.c)((function(e){return e.periodEndDate})),r=Object(P.c)((function(e){return e.periodStartDate})),s=Object(P.c)((function(e){return e.token})),i=Object(P.c)((function(e){return e.email})),l=Object(P.c)((function(e){return e.previousPeriod})),b=Object(n.useState)(!1),O=Object(j.a)(b,2),h=O[0],m=O[1],x=Object(n.useState)(!1),v=Object(j.a)(x,2),g=v[0],D=v[1],w=Object(n.useState)(!1),y=Object(j.a)(w,2),N=y[0],k=y[1],S=Object(n.useState)(!1),C=Object(j.a)(S,2),Y=C[0],E=C[1],M=Object(n.useState)(""),A=Object(j.a)(M,2),F=A[0],V=A[1],z=Object(n.useState)(""),T=Object(j.a)(z,2),q=T[0],I=T[1],W=Object(n.useState)(""),G=Object(j.a)(W,2),U=G[0],J=G[1],_=Object(n.useState)(""),K=Object(j.a)(_,2),Q=K[0],X=K[1],Z=Object(n.useState)(""),$=Object(j.a)(Z,2),ee=($[0],$[1]),te=Object(P.c)((function(e){return e.notification}));console.log(te);var ae=new je,ne=Object(n.useState)(ae.allEvents),ce=Object(j.a)(ne,2),re=ce[0],se=(ce[1],function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var t,a,n,s,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==re.length){for(t in l)a=L()(l[t].startDate),n=L()(l[t].endDate),ae.newEvent("Period Active",a,n,!0);r&&c&&(s=L()(r),i=L()(c),ae.newEvent("Period Active",s,i,!0))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ie=function(){m(!h)},le=function(){E(!Y)},de=function(){D(!g)},ue=function(){k(!N)};return Object(n.useEffect)((function(){se()}),[]),Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(R,{}),Object(B.jsxs)("section",{className:"profile content",children:[Object(B.jsxs)("h1",{className:"welcome-text",children:["Hello ",a,","]}),Object(B.jsxs)("div",{className:"calander",children:[Object(B.jsx)("h2",{children:"Here is how you month looks"}),Object(B.jsx)(oe,{event:re})]}),Object(B.jsxs)("div",{className:"account-settings",children:[Object(B.jsx)("button",{onClick:ie,children:"Settings"}),h&&Object(B.jsx)(be,{content:Object(B.jsx)(fe,{openPassword:ue,openNotication:le,openDeleteBox:de,close:ie})})]}),g&&Object(B.jsx)(be,{content:Object(B.jsx)(pe,{deleteAccount:function(){F===i&&(p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/deleteuser"),{email:i},{headers:{Authorization:"Bearer ".concat(s)}}),t(f()),e("/"))},deletedEmail:F,emailChange:function(e){V(e.target.value),console.log(e.target.value)},openDeleteBox:de})}),Y&&Object(B.jsx)(be,{content:Object(B.jsx)(xe,{close:le})}),N&&Object(B.jsx)(be,{content:Object(B.jsx)(Oe,{changePassword:function(){U==Q?p.a.post("".concat("https://period-tracker-api.onrender.com","/auth/changepassword"),{email:i,oldPassword:q,newPassword:U},{headers:{Authorization:"Bearer ".concat(s)}}):ee("New passwords do not match")},oldPassword:q,oldPasswordChange:function(e){I(e.target.value)},newPassword:U,newPasswordChange:function(e){J(e.target.value)},confirmNewPassword:Q,confirmPassword:function(e){X(e.target.value)},close:ue})})]}),Object(B.jsx)(H,{})]})},ge=a(78);var De=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.token})),a=Object(P.c)((function(e){return e.email})),c=Object(P.c)((function(e){return e.previousPeriod})),r=Object(n.useState)(),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(),b=Object(j.a)(l,2),O=b[0],h=b[1],m=Object(n.useState)(),x=Object(j.a)(m,2),f=x[0],g=x[1],D=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),w=Object(j.a)(D,2),y=w[0],N=w[1],k=function(){var n=Object(u.a)(Object(d.a)().mark((function n(){var c;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/removePeriod"),{email:a,removeDate:i},{headers:{Authorization:"Bearer ".concat(t)}});case 2:201===(c=n.sent).status&&(e(v({previousPeriod:c.data.previousPeriod})),h(c.data.message));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(t){e(v({previousPeriod:t}))},C=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var n,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:a,userInfo:c},{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n;case 5:r=e.sent,g("".concat(r.data.message,"!"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=L()(e[0].startDate).format(),a=L()(e[0].endDate).format();if(0!=c.length){var n=c.map((function(e){return e})),r={startDate:t,endDate:a,count:c.length};n.push(r),S(n)}else S([{startDate:t,endDate:a,count:0}])}}(y)}),[y]),Object(B.jsxs)("div",{className:"page-wrapper",children:[Object(B.jsx)(R,{}),Object(B.jsxs)("section",{className:"info content",children:[Object(B.jsxs)("div",{className:"logging-period",children:[Object(B.jsx)("h1",{children:"Do you have any more period(s) to log?"}),Object(B.jsx)("span",{className:"message",children:f}),Object(B.jsx)(ge.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return N([e.selection])},moveRangeOnFirstSelection:!1,ranges:y}),Object(B.jsx)("button",{className:"button",onClick:C,children:"Add"})]}),Object(B.jsxs)("div",{className:"remove-period",children:[Object(B.jsx)("span",{className:"message",children:O}),Object(B.jsx)("h2",{children:"Or would you like to remove some?"}),Object(B.jsxs)("fieldset",{children:[Object(B.jsx)("label",{htmlFor:"periods",children:"Select a period to remove:"}),Object(B.jsxs)("select",{name:"periods",className:"periods",onChange:function(e){o(e.target.value)},children:[Object(B.jsx)("option",{disabled:!0,selected:!0,children:"Select a date"}),c.map((function(e,t){return Object(B.jsx)("option",{value:t,children:"".concat(L()(e.startDate).format("MMMM Do YYYY")," - ").concat(L()(e.endDate).format("MMMM Do YYYY"))},e+t)}))]})]}),Object(B.jsx)("button",{className:"button",onClick:k,children:"Remove"})]})]}),Object(B.jsx)(H,{})]})};var we=function(){var e=Object(o.n)(),t=Object(P.b)(),a=Object(n.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),c=Object(j.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),b=l[0],O=l[1],h=Object(P.c)((function(e){return e.previousPeriod})),m=Object(P.c)((function(e){return e.email})),x=Object(P.c)((function(e){return e.token})),f=function(e){t(v({previousPeriod:e}))};Object(n.useEffect)((function(){!function(e){if(e[0].endDate&&e[0].startDate.getDate()!=e[0].endDate.getDate()){var t=L()(e[0].startDate).format(),a=L()(e[0].endDate).format();if(0!=h.length){var n=h.map((function(e){return e})),c={startDate:t,endDate:a,count:h.length};n.push(c),f(n)}else f([{startDate:t,endDate:a,count:0}])}}(r)}),[r]);var g=function(){var t=Object(u.a)(Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.prev=1,t.next=4,p.a.post("".concat("https://period-tracker-api.onrender.com","/user/newuser"),{email:m,userInfo:h},{headers:{Authorization:"Bearer ".concat(x)}});case 4:t.sent&&e("/Home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return b?Object(B.jsx)(C,{}):Object(B.jsxs)("section",{className:"setup-wrapper",children:[Object(B.jsx)("h1",{children:"When was your last few periods?"}),Object(B.jsx)("p",{children:"Just select them below, and once your done hit next. Please try to make them as close as you can."}),Object(B.jsx)(ge.DateRange,{editableDateInputs:!0,showMonthAndYearPickers:!1,fixedHeight:!0,onChange:function(e){return s([e.selection])},moveRangeOnFirstSelection:!1,ranges:r}),Object(B.jsx)("button",{type:"submit",className:"nextButton",onClick:g,children:"Next"})]})},ye=function(){Object(P.c)((function(e){return e.periodEndDate})),Object(P.c)((function(e){return e.periodStartDate}));return Object(B.jsx)(C,{})};var Ne=function(){var e=Boolean(Object(P.c)((function(e){return e.token})));return Object(P.c)((function(e){return e.previousPeriod})),Object(B.jsx)(i.a,{children:Object(B.jsxs)(o.d,{children:[Object(B.jsx)(o.b,{path:"/accountsetup",element:Object(B.jsx)(we,{})}),Object(B.jsx)(o.b,{path:"/signup",element:Object(B.jsx)(E,{})}),Object(B.jsx)(o.b,{path:"/",element:Object(B.jsx)(se,{})}),Object(B.jsx)(o.b,{path:"/profile",element:e?Object(B.jsx)(ve,{}):Object(B.jsx)(o.a,{to:"/"})}),Object(B.jsx)(o.b,{path:"/periodinfo",element:e?Object(B.jsx)(De,{}):Object(B.jsx)(o.a,{to:"/"})}),Object(B.jsx)(o.b,{path:"/home",element:e?Object(B.jsx)(ce,{}):Object(B.jsx)(o.a,{to:"/"})}),Object(B.jsx)(o.b,{path:"/Test1",element:Object(B.jsx)(ye,{})})]})})},ke=a(40),Se=a(125),Pe=a.n(Se),Be=a(126),Ce={key:"root",storage:Pe.a,version:1},Ye=Object(ke.g)(Ce,S),Ee=Object(O.a)({reducer:Ye,middleware:function(e){return e({serializableCheck:{ignoredActions:[ke.a,ke.f,ke.b,ke.c,ke.d,ke.e]}})}});s.a.createRoot(document.getElementById("root")).render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(P.a,{store:Ee,children:Object(B.jsx)(Be.a,{loading:null,persistor:Object(ke.h)(Ee),children:Object(B.jsx)(Ne,{})})})}))}},[[168,1,2]]]);
//# sourceMappingURL=main.a188aac6.chunk.js.map